import{a as De}from"./chunk-GXEMFWIU.js";import{c as N}from"./chunk-5GY6DQOR.js";import"./chunk-QZEKV3HP.js";import{b as q}from"./chunk-3TQABSQU.js";import{a as U,b as Fe,c as Ne}from"./chunk-6UCCOPZP.js";import{a as Le}from"./chunk-NLTDBQ6P.js";import{a as Pe,b as Be,c as Oe,d as L}from"./chunk-BRLP5A3C.js";import{a as Se}from"./chunk-BL26EFZV.js";import"./chunk-QSSPZJRQ.js";import{b as ke}from"./chunk-HR75C3XL.js";import{a as be,b as we}from"./chunk-NG4UYFZI.js";import{a as Ve,b as Ee}from"./chunk-QIGFC4CA.js";import{b as ce}from"./chunk-WZR2YOHD.js";import{a as He}from"./chunk-KLBIVRKJ.js";import{a as Te,b as Ie}from"./chunk-CJX3YAHP.js";import{b as fe,c as ye,f as he,k as xe,l as Ce,q as ve}from"./chunk-IKQIMEKB.js";import{b as Me}from"./chunk-3XKZVPMX.js";import"./chunk-Q7JQIVGP.js";import{a as Re}from"./chunk-HDKTY6DC.js";import"./chunk-WIAYVRRL.js";import{a as le,b as ae}from"./chunk-FLOQIHOT.js";import{i as _e,j as ge}from"./chunk-AJCYT4AU.js";import{$a as B,Aa as l,Ab as F,Ba as T,Fa as x,Ga as f,Ha as s,Jc as se,K as E,Kc as pe,N as w,Na as k,O as W,Oa as D,P as H,Pa as P,Ra as c,Rb as A,Sa as C,Ta as v,V as m,Va as I,W as d,Wa as M,Xa as V,Yb as ee,_a as O,ab as Y,ba as z,bd as me,cd as de,dd as ue,fc as te,g as je,ga as K,ha as p,hb as S,i as R,ib as b,ic as ie,oc as ne,ra as h,sc as oe,ta as _,ub as G,vb as J,wa as $,wb as X,ya as Q,yc as re,za as r,zb as Z}from"./chunk-JZLEGW3Q.js";var We=je(Re());var ze=["barcodeInput"],Ke=["invoiceTable"],$e=["editQty"],Ye=["editPrice"],Ge=["payment_input"],Je=()=>({width:"65vw"}),Xe=()=>({"1199px":"75vw","575px":"95vw"}),Ze=n=>({"ng-invalid ng-dirty":n}),et=()=>({standalone:!0}),qe=n=>({invalid:n}),tt=(n,a)=>({"text-red-500":n,"text-orange-500":a}),it=n=>({"text-red-500":n}),nt=n=>({selected:n});function ot(n,a){if(n&1&&(r(0,"h2",24),c(1),S(2,"currency"),l()),n&2){let t=s();p(),v(" USD: ",b(2,1,t.invoiceTotal.subtotal_dollar)," ")}}function rt(n,a){if(n&1&&(r(0,"h2",25),c(1),S(2,"dollar"),l()),n&2){let t=s();p(),v(" Total: ",b(2,1,t.invoiceTotal.subtotal_dollar)," ")}}function lt(n,a){if(n&1){let t=x();r(0,"div",27)(1,"label",32),c(2,"Payment"),l(),r(3,"p-inputNumber",33,2),V("ngModelChange",function(e){m(t);let o=s(2);return M(o.payment_amount,e)||(o.payment_amount=e),d(e)}),f("onFocus",function(e){m(t);let o=s(2);return d(o.select(e.target))}),l()()}if(n&2){let t=s(2);p(3),I("ngModel",t.payment_amount),_("ngModelOptions",O(5,et))("buttonLayout","horizontal")("step",1)("min",0)}}function at(n,a){if(n&1&&(r(0,"div",31)(1,"table",34)(2,"tr")(3,"th",35),c(4,"Old Balance:"),l(),r(5,"th")(6,"app-text-with-loading",36)(7,"span"),c(8),S(9,"currency"),l()()()(),r(10,"tr")(11,"th",35),c(12,"Current Invoice:"),l(),r(13,"th"),c(14),S(15,"currency"),l()(),r(16,"tr")(17,"th",35),c(18,"Payment:"),l(),r(19,"th"),c(20),S(21,"currency"),l()(),r(22,"tr")(23,"td",37),T(24,"p-divider",38),l()(),r(25,"tr")(26,"th",35),c(27,"New Balance:"),l(),r(28,"th")(29,"app-text-with-loading",39)(30,"span"),c(31),S(32,"currency"),l()()()()()()),n&2){let t=s(2);p(6),_("isLoading",t.supplier_balance_loading())("loadingBar",!0),p(2),C(b(9,8,t.supplier_balance.balance)),p(6),v(" ",b(15,10,t.invoiceTotal.subtotal_dollar)," "),p(6),v(" ",b(21,12,t.payment_amount())," "),p(9),_("isLoading",t.supplier_balance_loading())("loadingBar",!0),p(2),C(b(32,14,t.calculateNewBalance(t.invoiceTotal.subtotal_dollar,t.supplier_balance.balance,t.payment_amount())))}}function st(n,a){if(n&1){let t=x();r(0,"div",13)(1,"div",26)(2,"div",27)(3,"label",28),c(4,"Supplier"),r(5,"span",29),c(6," *"),l()(),r(7,"p-dropdown",30),V("ngModelChange",function(e){m(t);let o=s();return M(o.selected_supplier_id,e)||(o.selected_supplier_id=e),d(e)}),f("onShow",function(){m(t);let e=s();return d(e.dropDownVisible=!0)})("onHide",function(){m(t);let e=s();return d(e.dropDownVisible=!1)})("ngModelChange",function(){m(t);let e=s();return d(e.getSupplierBalance())}),l()()(),r(8,"div",26),h(9,lt,5,6,"div",27),l(),h(10,at,33,16,"div",31),l()}if(n&2){let t=s();p(7),_("loading",t.suppliersLoading()),I("ngModel",t.selected_supplier_id),_("options",t.suppliers)("filter",!0)("showClear",!0)("autoOptionFocus",!1)("ngClass",B(9,Ze,t.submited()&&!t.selected_supplier_id())),p(2),Q(t.selected_supplier_id()?9:-1),p(),Q(t.selected_supplier_id()?10:-1)}}function pt(n,a){n&1&&(r(0,"tr")(1,"th",40),c(2,"#"),l(),r(3,"th",41),c(4,"Barcode"),l(),r(5,"th",42),c(6,"Description"),l(),r(7,"th",43),c(8,"Expiry Date"),l(),r(9,"th",43),c(10,"Price"),l(),r(11,"th",40),c(12,"Qty"),l(),r(13,"th",43),c(14,"Total"),l(),r(15,"th",40),c(16,"Del?"),l()())}function ct(n,a){if(n&1){let t=x();r(0,"p-inputNumber",51,3),V("ngModelChange",function(e){m(t);let o=s().$implicit;return M(o.unit_price,e)||(o.unit_price=e),d(e)}),f("ngModelChange",function(){m(t);let e=s().$implicit,o=s();return d(o.setPrice(e))})("onFocus",function(e){m(t);let o=s(2);return d(o.select(e.target))}),l()}if(n&2){let t=s().$implicit;I("ngModel",t.unit_price),_("maxFractionDigits",2)("min",0)}}function mt(n,a){n&1&&T(0,"i",54)}function dt(n,a){if(n&1&&(r(0,"span",52),c(1),S(2,"currency"),r(3,"span"),h(4,mt,1,0,"i",53),l()()),n&2){let t=s().$implicit,i=s();_("ngClass",Y(5,tt,!t.unit_price,i.getPriceWarining(t))),p(),C(b(2,3,t.unit_price)),p(3),_("ngIf",i.getPriceWarining(t))}}function ut(n,a){if(n&1){let t=x();r(0,"p-inputNumber",55,4),V("ngModelChange",function(e){m(t);let o=s().$implicit;return M(o.quantity,e)||(o.quantity=e),d(e)}),f("onFocus",function(e){m(t);let o=s(2);return d(o.select(e.target))})("ngModelChange",function(){m(t);let e=s().$implicit,o=s();return d(o.setQty(e))}),l()}if(n&2){let t=s().$implicit;I("ngModel",t.quantity)}}function _t(n,a){if(n&1&&(r(0,"span",52),c(1),l()),n&2){let t=s().$implicit;_("ngClass",B(2,it,!t.quantity)),p(),C(t.quantity)}}function gt(n,a){if(n&1&&(r(0,"td"),c(1),l()),n&2){let t=s().$implicit;p(),v(" ",(t.currency=="lira",t.unit_price*t.quantity)," ")}}function ft(n,a){if(n&1&&(r(0,"td"),c(1),S(2,"currency"),l()),n&2){let t=s().$implicit;p(),v(" ",t.currency=="lira"?t.unit_price*t.quantity:b(2,1,t.unit_price*t.quantity)," ")}}function yt(n,a){if(n&1){let t=x();r(0,"tr")(1,"td"),c(2),l(),r(3,"td"),c(4),l(),r(5,"td"),c(6),l(),r(7,"td"),c(8),l(),r(9,"td",44)(10,"p-cellEditor"),h(11,ct,2,3,"ng-template",45)(12,dt,5,8,"ng-template",46),l()(),r(13,"td",47)(14,"p-cellEditor"),h(15,ut,2,1,"ng-template",45)(16,_t,2,4,"ng-template",46),l()(),h(17,gt,2,1,"td",48)(18,ft,3,3,"td",48),r(19,"td",49),f("click",function(){let e=m(t).rowIndex,o=s();return d(o.removeRow(e))}),T(20,"i",50),l()()}if(n&2){let t=a.$implicit,i=a.rowIndex,e=s();p(2),C(i+1),p(2),C(t.barcode||"---"),p(2),C(t.product_name),p(2),C(t.expiry_date||"---"),p(),_("pEditableColumn",t.unit_price)("ngClass",B(10,qe,!t.unit_price)),p(4),_("pEditableColumn",t.quantity)("ngClass",B(12,qe,!t.quantity)),p(4),_("ngIf",e.view_currency=="lira"),p(),_("ngIf",e.view_currency=="dollar")}}function ht(n,a){if(n&1&&(r(0,"h4",57),c(1),l()),n&2){let t=s(2);p(),v(" Total units: ",t.invoiceTotal.total_qty," ")}}function xt(n,a){if(n&1&&h(0,ht,2,1,"h4",56),n&2){let t=s();_("ngIf",t.invoiceTotal.total_qty)}}function Ct(n,a){n&1&&(r(0,"tr",58)(1,"td",59),c(2,"No data yet!"),l()())}function vt(n,a){if(n&1){let t=x();r(0,"p-autoComplete",60,5),V("ngModelChange",function(e){m(t);let o=s();return M(o.search_product,e)||(o.search_product=e),d(e)}),f("completeMethod",function(e){m(t);let o=s();return d(o.searchItem(e))})("onKeyUp",function(e){m(t);let o=s();return d(o.submitInvoiceInput(e))}),l(),r(2,"p-button",61),f("onClick",function(){m(t);let e=s();return d(e.dialog_products_visible=!0)}),l()}if(n&2){let t=s();I("ngModel",t.search_product),_("suggestions",t.searchedItems)("delay",150)}}function St(n,a){if(n&1){let t=x();r(0,"p-button",62),f("onClick",function(){m(t);let e=s();return d(e.clearInvoice())}),l(),r(1,"p-button",63),f("onClick",function(){m(t);let e=s();return d(e.checkout())}),l()}if(n&2){let t=s();_("disabled",t.invoice().length==0),p(),_("loading",t.loading())("disabled",t.invoice().length==0)}}function bt(n,a){if(n&1){let t=x();r(0,"div",65)(1,"div",68),f("click",function(){let e=m(t).$implicit,o=s(2);return d(o.selectedVariant=e)}),r(2,"p"),c(3),T(4,"br"),r(5,"small"),c(6),l()()()()}if(n&2){let t=a.$implicit,i=s(2);p(),_("ngClass",B(3,nt,i.selectedVariant==t)),p(2),v(" ",t.expiry_date," "),p(3),v("Current qty: ",t.variant_quantity,"")}}function wt(n,a){if(n&1){let t=x();r(0,"div",13),h(1,bt,7,5,"div",64),r(2,"div",65)(3,"div",66),f("click",function(){m(t);let e=s();return d(e.openVariantsDialog("add",e.productToAdd))}),r(4,"p"),c(5,"Add Variant"),l(),r(6,"small"),T(7,"i",67),l()()()()}if(n&2){let t=s();p(),_("ngForOf",t.productToAdd==null?null:t.productToAdd.variants_records)}}function Tt(n,a){if(n&1){let t=x();r(0,"p-button",69),f("onClick",function(){m(t);let e=s();return d(e.variantDialogVisible=!1)}),l(),r(1,"p-button",70),f("onClick",function(){m(t);let e=s();return d(e.submitVariant())}),l()}}var Qe=(()=>{let a=class a{constructor(){this.suppliersService=w(Le),this.stockService=w(Se),this.supplyService=w(Ne),this.notificationsService=w(ie),this.confirmationService=w(ee),this.localStorageService=w(De),this.dropDownVisible=!1,this.vh=this.localStorageService.getSupplyPageViewHeight(),this.invoiceTotal=new U,this.search_product=null,this.searchedItems=[],this.suppliers=[],this.view_currency="dollar",this.dialog_products_visible=!1,this.invoice=this.supplyService.invoice,this.submited=this.supplyService.signal_submited,this.products=this.stockService.products,this.loading=this.supplyService.signal_submit_loading,this.stockTableLoading=this.stockService.tableLoading,this.suppliersLoading=this.suppliersService.suppliersLoading,this.subscriptions=new R,this.priceTypes=Object.keys(Fe),this.today=(0,We.default)().format("YYYY-MM-DD"),this.variantDialogVisible=!1,this.productToAdd=null,this.selectedVariant=null,this.payment_amount=this.supplyService.payment_amount,this.selected_supplier_id=this.supplyService.selected_customer,this.supplier_balance_loading=this.suppliersService.signal_balanceLoading,this.supplier_balance={id:0,balance:"0"},this.variantsDialogVisible=!1}onKeyDown(i){if(this.dropDownVisible||this.dialog_products_visible)return;let e=this.editPrice||this.editQty||this.payment_input;(!e||!e.focused)&&this.focusBarcodeInput()}focusBarcodeInput(){this.barcodeInput.nativeElement.children[0].children[0].focus()}ngOnInit(){this.messages=[{severity:"info",detail:"No Invoice Yet!"}],this.subscriptions.add(this.suppliersService.suppliers$.subscribe(i=>{this.suppliers=i})),this.calculateTotal(),this.subscriptions.add(this.supplyService.reset$.subscribe(i=>{i&&(this.init(),this.supplyService.reset$.next(!1))})),this.subscriptions.add(this.supplyService.barcodeResponse.subscribe(i=>{i&&(this.addProduct(i),this.supplyService.barcodeResponse.next(null))})),this.subscriptions.add(this.suppliersService.supplierTotalDebts$.subscribe(i=>{i.id==this.selected_supplier_id()&&(this.supplier_balance=i)}))}ngOnDestroy(){this.subscriptions.unsubscribe()}setPrice(i){this.calculateTotal()}setQty(i){this.calculateTotal()}select(i){i.select()}init(){this.supplyService.selected_customer.set(null),this.supplyService.payment_amount.set(0),this.supplyService.invoice.set([]),this.submited.set(!1),this.calculateTotal()}clearInvoice(){this.confirmationService.confirm({key:"home",message:"Are you sure that you want to clear invoice?",header:"Warning",icon:"pi pi-exclamation-triangle",acceptButtonStyleClass:"p-button-danger",rejectButtonStyleClass:"p-button-secondary",defaultFocus:"reject",accept:()=>{this.init()}})}searchItem(i){let e=this.products(),o=[],u=i.query;for(let y=0;y<e.length;y++){let g=e[y];g.product_name.toLowerCase().indexOf(u.toLowerCase())>-1&&o.push(g)}this.searchedItems=o}addProduct(i){this.productToAdd=i,i.has_variants?this.variantDialogVisible=!0:this.addProductToInvoice(i)}addProductToInvoice(i,e=null){let o=this.supplyService.factor(),u=structuredClone(this.invoice()),y=u.find(g=>g.product_id===i.product_id&&g.variant_id===e?.variant_id);y?y.quantity+=o:u.push({product_id:i.product_id,barcode:i.barcode,product_name:i.product_name,unit_cost:i.unit_cost_usd,unit_price:i.unit_cost_usd,quantity:o,variant_id:e?.variant_id,expiry_date:e?.expiry_date,stock_management:i.stock_management}),this.invoice.set(u),this.supplyService.factor.set(1),this.calculateTotal()}submitVariant(){this.addProductToInvoice(this.productToAdd,this.selectedVariant),this.variantDialogVisible=!1}resetVariantsDialog(){this.variantDialogVisible=!1,this.productToAdd=null,this.selectedVariant=null}submitInvoiceInput(i){i.key==="Enter"&&this.search_product&&(typeof this.search_product=="string"?this.submitBarcode(this.search_product):this.supplyService.barcodeResponse.next(this.search_product),this.search_product=null)}submitBarcode(i){if(i){let e=-1,o=["*","+"];for(let g=0;g<o.length;g++)if(i.indexOf(o[g])!==-1){e=i.indexOf(o[g]);break}let u=i.substring(0,e)||1,y=parseInt(i.substring(e+1,i.length));e!=-1&&e!=0?(this.supplyService.factor.set(parseInt(u)),this.supplyService.submitBarcode(y)):this.supplyService.submitBarcode(i)}}removeRow(i){this.invoice().splice(i,1),this.calculateTotal(),this.validateItems()}assignSelectedProducts(i){this.dialog_products_visible=!1,i.forEach(e=>{this.addProduct(e)})}calculateTotal(){let i=new U,e=this.invoice();return e.length>0&&(e.forEach(o=>{i.total_qty+=o.quantity,i.cost_dollar+=o.unit_cost*o.quantity,i.subtotal_dollar+=o.unit_price*o.quantity}),i.total_dollar=i.subtotal_dollar-i.discount_dollar),this.invoiceTotal=i,i}parseFloat(i){return parseFloat(i)}validateItems(){return!!this.invoice().find(e=>!e.unit_price||!e.quantity)}getPriceWarining(i){if(!i.unit_price)return!1;let e=i.unit_cost||0,o=i.unit_price;return typeof e=="string"&&(e=parseFloat(e)),typeof o=="string"&&(o=parseFloat(o)),o<e}checkout(){let i=this.validateItems();!i&&this.selected_supplier_id()?this.confirmationService.confirm({key:"home",message:'Are you sure that you want to submit invoice"?',header:"Warning",icon:"pi pi-exclamation-triangle",acceptButtonStyleClass:"p-button-success",rejectButtonStyleClass:"p-button-secondary",defaultFocus:"reject",accept:()=>{this.supplyService.checkout({partner_id_fk:this.selected_supplier_id(),exchange_rate:this.stockService.exchangeRate().rate_value,total_cost:this.invoiceTotal.subtotal_dollar,items:this.invoice()},this.payment_amount())}}):(this.submited.set(!0),i&&this.notificationsService.showError("Please enter price for all items","home"))}getSupplierBalance(){this.selected_supplier_id()?this.suppliersService.getAccountTotalBalance(this.selected_supplier_id()):this.supplier_balance={id:0,balance:"0"}}calculateNewBalance(i,e=0,o=0){return e=parseFloat(e),e+i-o}openVariantsDialog(i,e){this.productExpanded=e,this.variantsDialogMode=i,this.variantsDialogVisible=!0}variantDialogClosed(){this.variantsDialogVisible=!1,this.productExpanded=null}variantSubmitted(i){this.productToAdd=i}};a.\u0275fac=function(e){return new(e||a)},a.\u0275cmp=W({type:a,selectors:[["app-supply-home"]],viewQuery:function(e,o){if(e&1&&(k(ze,5,z),k(Ke,5),k($e,5),k(Ye,5),k(Ge,5)),e&2){let u;D(u=P())&&(o.barcodeInput=u.first),D(u=P())&&(o.invoiceTable=u.first),D(u=P())&&(o.editQty=u.first),D(u=P())&&(o.editPrice=u.first),D(u=P())&&(o.payment_input=u.first)}},hostBindings:function(e,o){e&1&&f("keydown",function(y){return o.onKeyDown(y)},!1,K)},decls:25,vars:16,consts:[["desktopTable",""],["invoiceTable",""],["payment_input",""],["editPrice",""],["editQty",""],["barcodeInput",""],[1,"grid","m-1"],[1,"col-12"],["styleClass","mb-3 p-2"],["pTemplate","left"],["pTemplate","right"],["pTemplate","body"],["styleClass","mt-2"],[1,"grid"],["dataKey","product_id","styleClass","p-datatable-sm ","editMode","cell",3,"value"],["pTemplate","header"],["pTemplate","summary"],["pTemplate","emptymessage"],["styleClass","mt-2 p-2"],["position","top","header","Choose Variant","styleClass","p-fluid",3,"visibleChange","onHide","visible","modal","breakpoints","closeOnEscape","closable"],["pTemplate","content"],["pTemplate","footer"],["price","cost",3,"onHide","onSubmit","visible","products","tableLoading"],[3,"OnClose","OnSubmit","visible","dialog_mode","selected_product"],[1,"text-green-600","m-2"],[1,"text-primary","m-2"],[1,"col-2"],[1,"flex","flex-column","gap-2"],["for","supplier"],[1,"text-red-500"],["styleClass","p-inputtext-sm","id","supplier","appendTo","body","optionLabel","name","optionValue","account_id","placeholder","Select Supplier","filterBy","name",3,"ngModelChange","onShow","onHide","loading","ngModel","options","filter","showClear","autoOptionFocus","ngClass"],[1,"col-8","flex","justify-content-end"],["for","currency"],["inputId","currency-us","mode","currency","currency","USD","locale","en-US","styleClass","w-full",1,"p-inputtext-sm",3,"ngModelChange","onFocus","ngModel","ngModelOptions","buttonLayout","step","min"],[1,"text-right"],[1,"text-green-500"],["loaderClass","flex-grow-1 flex-shrink-1",2,"width","50%",3,"isLoading","loadingBar"],["colspan","2"],["styleClass","m-0"],["loaderClass","flex-grow-1 flex-shrink-1",2,"width","63%",3,"isLoading","loadingBar"],["width","5%"],["width","15%"],["width","40%"],["width","10%"],["pEditableColumnField","unit_price",3,"pEditableColumn","ngClass"],["pTemplate","input"],["pTemplate","output"],["pEditableColumnField","quantity",3,"pEditableColumn","ngClass"],[4,"ngIf"],[1,"danger-hover",3,"click"],[1,"pi","pi-trash"],["styleClass","input-align-center","step","0",1,"p-inputtext-sm","priceEditable",3,"ngModelChange","onFocus","ngModel","maxFractionDigits","min"],[3,"ngClass"],["class","pi pi-exclamation-triangle ml-2",4,"ngIf"],[1,"pi","pi-exclamation-triangle","ml-2"],["min","1","step","0",1,"p-inputtext-sm","editable",3,"ngModelChange","onFocus","ngModel"],["class","text-center m-0",4,"ngIf"],[1,"text-center","m-0"],[1,"surface-300"],["colspan","9"],["field","product_name","name","barcodeInput","placeholder","scan or search ...","spellcheck","false",1,"p-inputtext-sm",3,"ngModelChange","completeMethod","onKeyUp","ngModel","suggestions","delay"],["styleClass","mx-2","label","Multi Select","severity","warning","size","small","icon","pi pi-list",3,"onClick"],["label","Clear","icon","pi pi-times","severity","danger","size","small","styleClass","mx-2",3,"onClick","disabled"],["label","Checkout","icon","pi pi-cart-plus","severity","success","size","small",3,"onClick","loading","disabled"],["class","col-12 md:col-3",4,"ngFor","ngForOf"],[1,"col-12","md:col-3"],[1,"success-hover","shadow-2","p-3","text-center","border-round",3,"click"],[1,"pi","pi-plus"],[1,"dark-hover","shadow-2","p-3","text-center","border-round",3,"click","ngClass"],["size","small","label","Cancel","icon","pi pi-times","severity","secondary","styleClass","w-full mt-2 md:w-auto md:ml-2",3,"onClick"],["size","small","label","Finish","icon","pi pi-check","severity","success","styleClass","w-full mt-2 md:w-auto md:ml-2",3,"onClick"]],template:function(e,o){if(e&1){let u=x();r(0,"div",6)(1,"div",7)(2,"p-toolbar",8),h(3,ot,3,3,"ng-template",9)(4,rt,3,3,"ng-template",10),l(),r(5,"p-card"),h(6,st,11,11,"ng-template",11),l(),r(7,"p-card",12,0)(9,"div",13)(10,"div",7)(11,"p-table",14,1),h(13,pt,17,0,"ng-template",15)(14,yt,21,14,"ng-template",11)(15,xt,1,1,"ng-template",16)(16,Ct,3,0,"ng-template",17),l(),r(17,"p-toolbar",18),h(18,vt,3,3,"ng-template",9)(19,St,2,3,"ng-template",10),l()()()()()(),r(20,"p-dialog",19),V("visibleChange",function(g){return m(u),M(o.variantDialogVisible,g)||(o.variantDialogVisible=g),d(g)}),f("onHide",function(){return m(u),d(o.resetVariantsDialog())}),h(21,wt,8,1,"ng-template",20)(22,Tt,2,0,"ng-template",21),l(),r(23,"products-dialog",22),f("onHide",function(){return m(u),d(o.dialog_products_visible=!1)})("onSubmit",function(g){return m(u),d(o.assignSelectedProducts(g))}),l(),r(24,"variants-dialog",23),f("OnClose",function(){return m(u),d(o.variantDialogClosed())})("OnSubmit",function(g){return m(u),d(o.variantSubmitted(g))}),l()}e&2&&(p(11),_("value",o.invoice()),p(9),$(O(14,Je)),I("visible",o.variantDialogVisible),_("modal",!0)("breakpoints",O(15,Xe))("closeOnEscape",!1)("closable",!0),p(3),_("visible",o.dialog_products_visible)("products",o.products)("tableLoading",o.stockTableLoading()),p(),_("visible",o.variantsDialogVisible)("dialog_mode",o.variantsDialogMode)("selected_product",o.productExpanded))},dependencies:[G,J,X,L,le,te,be,se,Pe,Te,fe,he,xe,Ce,N,_e,ne,oe,me,q,Z,Oe],styles:["[_nghost-%COMP%]  .p-fieldset .p-fieldset-content{padding:.5rem}.editable[_ngcontent-%COMP%]{width:40px;height:28px}.priceEditable[_ngcontent-%COMP%]{width:60px;height:28px;text-align:center}[_nghost-%COMP%]  .p-inputnumber-input{width:100%}td[_ngcontent-%COMP%]:has(span.p-inputnumber.p-component){padding:0}td[_ngcontent-%COMP%]:has(.no-padding){padding:0}.input-align-center[_ngcontent-%COMP%], [_nghost-%COMP%]   .editable[_ngcontent-%COMP%]     span.p-inputnumber.p-component .p-inputnumber-input{text-align:center}input[_ngcontent-%COMP%]::-webkit-outer-spin-button, input[_ngcontent-%COMP%]::-webkit-inner-spin-button{-webkit-appearance:none;margin:0}input[type=number][_ngcontent-%COMP%]{appearance:textfield;-moz-appearance:textfield}[_nghost-%COMP%]  .small-button{font-size:.5rem!important;padding:.2rem .4rem!important;width:2rem!important}[_nghost-%COMP%]  .small-input>span>input{padding:.3rem!important;width:2rem!important;text-align:center}[_nghost-%COMP%]  .invoice-body>div>div{padding:0!important}[_nghost-%COMP%]  .p-dataview-emptymessage{display:none}[_nghost-%COMP%]  .p-card-content{padding:0!important}.invalid[_ngcontent-%COMP%]{border-color:var(--red-500)!important}.category-cards[_ngcontent-%COMP%]{border-radius:6px;color:#343a40;text-align:center;padding:1rem;box-shadow:0 2px 1px -1px #0003,0 1px 1px #00000024,0 1px 3px #0000001f}.selected[_ngcontent-%COMP%]{background-color:#343a40;color:#fff}"]});let n=a;return n})();var It=[{path:"",component:Qe}],Ae=(()=>{let a=class a{};a.\u0275fac=function(e){return new(e||a)},a.\u0275mod=H({type:a}),a.\u0275inj=E({imports:[A.forChild(It),A]});let n=a;return n})();var Ue=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275mod=H({type:n});static \u0275inj=E({imports:[F,ue,Ee,He,Ve]})}return n})();var Ai=(()=>{let a=class a{};a.\u0275fac=function(e){return new(e||a)},a.\u0275mod=H({type:a}),a.\u0275inj=E({imports:[F,Ae,L,ae,we,ce,pe,Me,Be,Ie,ye,ve,N,ge,ke,Ue,re,de,q]});let n=a;return n})();export{Ai as SupplyModule};
