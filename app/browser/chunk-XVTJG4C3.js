import{a as u}from"./chunk-GLAC23CS.js";import{A as o,Bb as n,Sb as l,aa as e,l as c,lb as h,w as a}from"./chunk-FYHOXPUP.js";var f=class{constructor(){this.cost_dollar=0,this.subtotal_dollar=0,this.total_dollar=0,this.discount_dollar=0,this.discount2_dollar=0,this.total_dollar_discount_2=0,this.vat_dollar=0,this.total_qty=0}},m=function(i){return i.unit_price_usd="unit_price_usd",i}(m||{});var C=(()=>{let s=class s{constructor(){this.http=o(h),this.apiService=o(n),this.notificationService=o(l),this.stockService=o(u),this.invoice=e([]),this.signal_submited=e(!1),this.submitCheckoutLoading=e(!1),this.reset$=new c(!1),this.factor=e(1),this.barcodeResponse=new c(null),this.products=this.stockService.products,this.customerDialogVisible=e(!1)}submitBarcode(r){let t=this.products().find(d=>d.barcode==r);t?this.barcodeResponse.next(t):this.notificationService.showError("Item not found!","home")}checkout(r){this.signal_submited.set(!0),this.submitCheckoutLoading.set(!0),this.http.post(`${this.apiService.host}/sell-orders`,{invoice:r}).subscribe({next:t=>{console.log(t),this.notificationService.showSuccess(t.message,"home"),t.whatsapp&&this.notificationService.showInfo("Whatsapp sent successfully!","home",!1)},error:t=>{this.notificationService.showError(t.error.message,"home"),this.submitCheckoutLoading.set(!1)},complete:()=>{this.stockService.getItems(),this.invoice.set([]),this.signal_submited.set(!1),this.submitCheckoutLoading.set(!1),this.reset$.next(!0),this.customerDialogVisible.set(!1)}})}checkoutDebt(){}};s.\u0275fac=function(t){return new(t||s)},s.\u0275prov=a({token:s,factory:s.\u0275fac,providedIn:"root"});let i=s;return i})();export{f as a,m as b,C as c};
