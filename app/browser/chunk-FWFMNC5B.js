import{a as d}from"./chunk-FP4MUW3R.js";import{b as m}from"./chunk-B4S7D57T.js";import{J as f,Lb as a,N as i,h as r,hc as w,l as u}from"./chunk-LELVKHSM.js";var v=(n,t)=>{let c=i(d),e=i(a);return c.isLoggedIn()||e.navigate(["/login"]),c.isLoggedIn()},S=(n,t)=>{let c=i(d),e=i(a);return c.isLoggedIn()||e.navigate(["/login"]),c.isAdmin()};var j=(()=>{let t=class t{constructor(){this.dateService=i(m),this.notificationService=i(w),this.invoice=new u({})}print(e,o){return r(this,null,function*(){let s=structuredClone(e);s.order_datetime=this.dateService.formatDate(e.order_datetime,"DD-MM-YYYY"),s.type=o,window.electron&&(yield window.electron.send("print-invoice",s))})}printStatement(e){return r(this,null,function*(){window.electron&&(yield window.electron.send("print-statement",e))})}printDelivery(e){return r(this,null,function*(){let o=structuredClone(e);o.order_datetime=this.dateService.formatDate(e.order_datetime,"DD-MM-YYYY"),window.electron&&(yield window.electron.send("print-delivery",o))})}printStock(e){return r(this,null,function*(){window.electron&&(yield window.electron.send("print-stock",e))})}backup(){return r(this,null,function*(){if(window.electron){let e=yield window.electron.send("backup");e=="success"?this.notificationService.showSuccess("Backup completed successfully!","home"):e=="canceled"?this.notificationService.showInfo(e,"home"):(console.log(e),this.notificationService.showError(e,"home"))}})}};t.\u0275fac=function(o){return new(o||t)},t.\u0275prov=f({token:t,factory:t.\u0275fac,providedIn:"root"});let n=t;return n})();export{v as a,S as b,j as c};
