import{b as fe}from"./chunk-R6ZEGCBG.js";import{a as Le,b as Me}from"./chunk-SQ6TW4T5.js";import{a as Ve,b as De}from"./chunk-VOXXVOXK.js";import{a as Z}from"./chunk-GP6B5D5B.js";import{a as je,b as Ke}from"./chunk-R26CEOUJ.js";import{b as Qe}from"./chunk-552YT7VT.js";import{a as He,b as Ee}from"./chunk-FNLRVR6R.js";import"./chunk-U6UQRL6S.js";import{a as Re,b as Be}from"./chunk-PVZSMVQR.js";import{a as qe,b as ze}from"./chunk-S3UYYJDN.js";import{c as D}from"./chunk-M6PPFD3I.js";import"./chunk-P6HEUOS7.js";import{a as ke,b as Ae}from"./chunk-OZP7HNKL.js";import{f as we,i as Te,j as Ie,q as Pe}from"./chunk-O7Y33RWW.js";import{a as Ne,b as Oe}from"./chunk-WLZVRSNO.js";import"./chunk-RWK74YMD.js";import{b as Fe}from"./chunk-JLYTJQKU.js";import"./chunk-O2Z7APEW.js";import{a as le,b as ce}from"./chunk-3SSLHLWI.js";import{h as be,i as ye,j as ve,l as Ce,m as Se,n as xe}from"./chunk-SOXUPN2Q.js";import{$a as x,Aa as i,Ab as V,Ba as p,Cb as $,Fa as S,Ga as _,Ha as m,Ic as de,J as j,Jc as pe,K as P,Kc as me,Lc as ue,Mc as he,N as y,Na as z,O as M,Oa as N,P as H,Pa as O,Ra as s,Rb as R,Sa as C,Ta as E,V as h,Va as F,W as f,Wa as k,Xa as A,Xb as Y,_a as T,bd as _e,cd as ge,ec as B,fc as U,ha as a,hc as J,ic as X,kc as ee,mc as b,oa as g,oc as te,pc as ie,ra as v,ta as l,tc as ne,ub as Q,uc as oe,vc as re,wa as K,wb as G,xb as W,xc as se,ya as q,za as n,zc as ae}from"./chunk-TC4DAS4S.js";var Ge=(()=>{class o{constructor(){this.http=y($),this.api=y(X),this.notificationService=y(J),this.customersService=y(D),this.pets=g([]),this.petsLoading=g(!1),this.petSidebarVisible=g(!1),this.selectedPet=g(null),this.searchLoading=g(!1),this.petsSubmitLoading=g(!1),this.petsDeleteLoading=g(!1),this.medicalHistory=g([]),this.medicalHistoryLoading=g(!1),this.historyDialogVisible=g(!1),this.historySubmitLoading=g(!1),this.selectedHistory=g(null)}fetchPets(e){this.petsLoading.set(!0),this.http.post(`${this.api.host}/pets/search`,e).subscribe({next:r=>{this.pets.set(r),this.petsLoading.set(!1)},error:r=>{this.petsLoading.set(!1),this.notificationService.showError(r.error,"home")}})}createPet(e){this.petsSubmitLoading.set(!0),this.http.post(`${this.api.host}/pets`,e).subscribe({next:r=>{this.pets.set([...this.pets(),r]),this.notificationService.showSuccess("Pet created successfully!","home"),this.petsSubmitLoading.set(!1),this.petSidebarVisible.set(!1),this.customersService.getCustomers()},error:r=>{this.petsSubmitLoading.set(!1),this.notificationService.showError(r.error,"home")}})}updatePet(e){this.petsSubmitLoading.set(!0),this.http.put(`${this.api.host}/pets`,e).subscribe({next:r=>{this.selectedPet.set(r),this.pets.update(t=>{let c=this.pets().findIndex(d=>d.pet_id===e.pet_id);return[...t.slice(0,c),r,...t.slice(c+1)]}),this.notificationService.showSuccess("Pet updated successfully!","home"),this.petSidebarVisible.set(!1),this.petsSubmitLoading.set(!1)},error:r=>{this.notificationService.showError(r.error,"home"),this.petsSubmitLoading.set(!1)}})}deletePet(e){this.petsDeleteLoading.set(!0),this.http.delete(`${this.api.host}/pets/${e}`).subscribe({next:r=>{this.pets.update(t=>{let c=this.pets().findIndex(d=>d.pet_id===e);return t.splice(c,1),[...t]}),this.notificationService.showSuccess(r.message,"home"),this.petsDeleteLoading.set(!1),this.selectedPet.set(null)},error:r=>{this.notificationService.showError(r.error,"home"),this.petsDeleteLoading.set(!1)}})}fetchMedicalHistory(e){this.medicalHistoryLoading.set(!0),this.http.get(`${this.api.host}/pets/history/${e}`).subscribe({next:r=>{this.medicalHistory.set(r),this.medicalHistoryLoading.set(!1)},error:r=>{this.notificationService.showError(r.error,"home"),this.medicalHistoryLoading.set(!1)}})}createMedicalRecord(e){this.historySubmitLoading.set(!0),this.http.post(`${this.api.host}/pets/history`,e).subscribe({next:r=>{this.medicalHistory.set([r,...this.medicalHistory()]),this.historyDialogVisible.set(!1),this.notificationService.showSuccess("Record added successfully!","home"),this.historySubmitLoading.set(!1)},error:r=>{this.notificationService.showError(r.error,"home"),this.historySubmitLoading.set(!1),this.historyDialogVisible.set(!1)}})}updateMedicalRecord(e){this.historySubmitLoading.set(!0),this.http.put(`${this.api.host}/pets/history`,e).subscribe({next:r=>{this.historySubmitLoading.set(!1),this.medicalHistory.update(t=>{let c=this.medicalHistory().findIndex(d=>d.record_id===e.record_id);return[...t.slice(0,c),r,...t.slice(c+1)]}),this.notificationService.showSuccess("Record updated successfully!","home"),this.historyDialogVisible.set(!1),this.selectedHistory.set(r)},error:r=>{this.notificationService.showError(r.error,"home"),this.historySubmitLoading.set(!1),this.historyDialogVisible.set(!1)}})}deleteMedicalHistory(e){this.medicalHistoryLoading.set(!0),this.http.delete(`${this.api.host}/pets/history/${e}`).subscribe({next:r=>{this.selectedHistory.set(null),this.medicalHistory.update(t=>{let c=this.medicalHistory().findIndex(d=>d.record_id===e);return t.splice(c,1),[...t]}),this.notificationService.showSuccess(r.message,"home"),this.medicalHistoryLoading.set(!1)},error:r=>{this.notificationService.handleError(r.error,"home"),this.medicalHistoryLoading.set(!1)}})}static{this.\u0275fac=function(r){return new(r||o)}}static{this.\u0275prov=j({token:o,factory:o.\u0275fac,providedIn:"root"})}}return o})();var Ue=["petsTable"],Je=()=>[10,15,50,100],Xe=()=>["pet_name","name"],I=o=>({"ng-invalid ng-dirty":o}),Ze=()=>({width:"50vw"}),et=()=>({"1199px":"75vw","575px":"95vw"}),tt=()=>[5,10,50,100],it=()=>({"white-space":"pre-wrap"});function nt(o,u){if(o&1){let e=S();n(0,"p-button",53),_("onClick",function(){h(e);let t=m();return f(t.openPetSidebar("add"))}),i()}}function ot(o,u){if(o&1){let e=S();n(0,"p-button",55),_("onClick",function(){h(e);let t=m(2);return f(t.openPetSidebar("edit"))}),i(),n(1,"p-button",56),_("onClick",function(){h(e);let t=m(2);return f(t.deletePet())}),i()}if(o&2){let e=m(2);l("disabled",!e.selectedPet()),a(),l("disabled",!e.selectedPet())("loading",e.petsDeleteLoading())}}function rt(o,u){o&1&&v(0,ot,2,3,"ng-template",54)}function st(o,u){o&1&&(n(0,"tr")(1,"th",57),s(2,"Profile #"),i(),n(3,"th",58),s(4,"Owner Name"),i(),n(5,"th",59),s(6,"Phone"),i(),n(7,"th",60),s(8,"Pet Name"),i(),n(9,"th",61),s(10,"Species"),i()())}function at(o,u){if(o&1&&(n(0,"tr",62)(1,"td"),s(2),i(),n(3,"td"),s(4),i(),n(5,"td"),s(6),i(),n(7,"td"),s(8),i(),n(9,"td")(10,"p-tag",63),s(11),i()()()),o&2){let e=u.$implicit;l("pSelectableRow",e),a(2),C(e.profile_number||"---"),a(2),C(e.name),a(2),C(e.phone),a(2),C(e.pet_name||"---"),a(2),l("severity",e.species=="Dog"?"danger":"info"),a(),C(e.species)}}function lt(o,u){o&1&&(n(0,"tr")(1,"td",64),s(2,"No records yet!"),i()())}function ct(o,u){if(o&1){let e=S();n(0,"p-button",73),_("click",function(){h(e);let t=m(2);return f(t.refreshHistoryTable())}),i(),n(1,"p-button",74),_("onClick",function(){h(e);let t=m(2);return f(t.showHistoryDialog("add"))}),i()}if(o&2){let e=m(2);l("loading",e.medicalHistoryLoading())}}function dt(o,u){if(o&1){let e=S();n(0,"p-button",75),_("click",function(){h(e);let t=m(2);return f(t.showHistoryDialog("edit"))}),i(),n(1,"p-button",76),_("onClick",function(){h(e);let t=m(2);return f(t.deleteHistory())}),i()}if(o&2){let e=m(2);l("disabled",!e.selectedHistory()),a(),l("disabled",!e.selectedHistory())}}function pt(o,u){o&1&&(n(0,"tr"),p(1,"th",77),n(2,"th"),s(3,"Record Datetime"),i(),n(4,"th"),s(5,"Description"),i()())}function mt(o,u){if(o&1&&(n(0,"tr",62)(1,"td"),p(2,"p-button",78),i(),n(3,"td"),s(4),i(),n(5,"td"),s(6),i()()),o&2){let e=u.$implicit,r=u.expanded;l("pSelectableRow",e),a(2),l("pRowToggler",e)("rounded",!0)("plain",!0)("severity",r?"danger":"success")("icon",r?"pi pi-minus":"pi pi-plus"),a(2),C(e.record_datetime),a(2),E(" ",e.medical_description.slice(0,30)||"---","... ")}}function ut(o,u){if(o&1&&(n(0,"tr")(1,"td",79)(2,"div",80),s(3),i()()()),o&2){let e=u.$implicit;a(2),l("ngStyle",T(2,it)),a(),E(" ",e.medical_description," ")}}function ht(o,u){o&1&&(n(0,"tr")(1,"td",79),s(2,"No records yet!"),i()())}function ft(o,u){if(o&1){let e=S();n(0,"div",3)(1,"p-card")(2,"div",65)(3,"div",66)(4,"h3",67),s(5,"Breed"),i(),n(6,"p",68),s(7),i()(),n(8,"div",66)(9,"h3",67),s(10,"Gender"),i(),n(11,"p",68),s(12),i()(),n(13,"div",66)(14,"h3",67),s(15,"Birthdate"),i(),n(16,"p",68),s(17),i()(),n(18,"div",66)(19,"h3",67),s(20,"Notes"),i(),n(21,"p",68),s(22),i()()(),n(23,"p-divider")(24,"h3",68),p(25,"i",69),s(26," Medical History "),i()(),n(27,"p-toolbar"),v(28,ct,2,1,"ng-template",5)(29,dt,2,2,"ng-template",54),i(),n(30,"p-table",70),A("selectionChange",function(t){h(e);let c=m();return k(c.selectedHistory,t)||(c.selectedHistory=t),f(t)}),v(31,pt,6,0,"ng-template",21)(32,mt,7,8,"ng-template",71)(33,ut,4,3,"ng-template",72)(34,ht,3,0,"ng-template",23),i()()()}if(o&2){let e,r,t,c,d=m();a(7),C(((e=d.selectedPet())==null?null:e.breed)||"---"),a(5),C((r=d.selectedPet())==null?null:r.gender),a(5),C((t=d.selectedPet())==null?null:t.birthdate),a(5),C(((c=d.selectedPet())==null?null:c.notes)||"----"),a(8),l("value",d.medicalHistory())("loading",d.medicalHistoryLoading()),F("selection",d.selectedHistory),l("paginator",!0)("rows",5)("showCurrentPageReport",!0)("rowsPerPageOptions",T(11,tt))}}function _t(o,u){o&1&&(n(0,"h3"),s(1,"Pets"),i())}function gt(o,u){if(o&1&&(n(0,"div",49)(1,"label",81),s(2,"Customer"),n(3,"span",82),s(4," *"),i()(),p(5,"p-dropdown",83),i()),o&2){let e=m();a(5),l("options",e.customers())("filter",!0)("showClear",!0)("autoOptionFocus",!1)("ngClass",x(5,I,e.customer_id_fk.invalid&&((e.customer_id_fk==null?null:e.customer_id_fk.dirty)||(e.customer_id_fk==null?null:e.customer_id_fk.touched)||e.submitted)))}}function bt(o,u){if(o&1&&(n(0,"div",27)(1,"label",28),s(2,"Owner Name"),n(3,"span",29),s(4,"*"),i()(),p(5,"input",84),i(),n(6,"div",27)(7,"label"),s(8,"Phone"),i(),p(9,"p-inputMask",85),i(),n(10,"div",40)(11,"label",86),s(12,"Address"),i(),p(13,"input",87),i()),o&2){let e=m();a(5),l("ngClass",x(2,I,e.name.invalid&&(e.name.dirty||e.name.touched||e.submitted))),a(4),l("ngClass",x(4,I,e.phone.invalid&&(e.phone.dirty||e.phone.touched||e.submitted)))}}function yt(o,u){if(o&1){let e=S();n(0,"button",88),_("click",function(){h(e);let t=m();return f(t.submitPet())}),i(),n(1,"button",89),_("click",function(){h(e);let t=m();return f(t.hideSidebar())}),i()}if(o&2){let e=m();l("loading",e.petsSubmitLoading())}}function vt(o,u){if(o&1&&(n(0,"form",90)(1,"div",9)(2,"div",91)(3,"div",92)(4,"label",93),s(5,"Medical Description"),n(6,"span",82),s(7," *"),i()(),n(8,"textarea",94),s(9,"                        "),i()()(),n(10,"div",95)(11,"label",96),s(12,"Record Date"),i(),p(13,"p-calendar",97),i()()()),o&2){let e=m();l("formGroup",e.historyForm),a(13),l("showIcon",!1)("showClear",!0)("readonlyInput",!0)("showTime",!0)}}function Ct(o,u){if(o&1){let e=S();n(0,"p-button",98),_("click",function(){h(e);let t=m();return f(t.closeHistoryDialog())}),i(),n(1,"p-button",99),_("click",function(){h(e);let t=m();return f(t.submitHistory())}),i()}if(o&2){let e=m();a(),l("loading",e.historySubmitLoading())}}var We=(()=>{class o{constructor(){this.petsService=y(Ge),this.fb=y(se),this.customerService=y(D),this.dateService=y(Fe),this.confirmationService=y(Y),this.authService=y(Z),this.pets=this.petsService.pets,this.selectedPet=this.petsService.selectedPet,this.submitted=!1,this.petSidebarVisible=this.petsService.petSidebarVisible,this.petsLoading=this.petsService.petsLoading,this.sidebarMode=null,this.customers=this.customerService.customers,this.userPermissions=this.authService.userPermissions,this.medicalHistory=this.petsService.medicalHistory,this.searchForm=this.fb.group({customer_id_fk:[null],phone:[null],pet_name:[null],medical_history:[null]}),this.searchLoading=this.petsService.searchLoading,this.petsSubmitLoading=this.petsService.petsSubmitLoading,this.petsDeleteLoading=this.petsService.petsDeleteLoading,this.speciesOptions=[{label:"Dog",value:"Dog"},{label:"Cat",value:"Cat"},{label:"Other",value:"Other"}],this.genderOptions=[{label:"Male",value:"Male"},{label:"Female",value:"Female"}],this.petForm=this.fb.group({pet_id:[null],profile_number:[null],pet_name:[null,b.required],species:[null,b.required],breed:[null],gender:[null,b.required],birthdate:[null,b.required],notes:[null],customer_id_fk:[null],name:[null],phone:[null],address:[null],customer_option:["select_customer"]}),this.medicalHistoryLoading=this.petsService.medicalHistoryLoading,this.historyDialogVisible=this.petsService.historyDialogVisible,this.historySubmitLoading=this.petsService.historySubmitLoading,this.selectedHistory=this.petsService.selectedHistory,this.historyDialogType="",this.historyForm=this.fb.group({record_id:[null],pet_id_fk:[null,b.required],medical_description:[null,b.required],medical_notes:[null],record_datetime:[this.dateService.getCurrentDatetime()]})}submitSearch(){this.petsTable?.reset(),this.petsService.fetchPets(this.searchForm.value)}resetSearch(){this.petsTable?.reset(),this.searchForm.reset(),this.petsService.pets.set([]),this.petsService.selectedPet.set(null)}get pet_name(){return this.petForm.get("pet_name")}get species(){return this.petForm.get("species")}get gender(){return this.petForm.get("gender")}get name(){return this.petForm.get("name")}get phone(){return this.petForm.get("phone")}get customer_id_fk(){return this.petForm.get("customer_id_fk")}get customer_option(){return this.petForm.get("customer_option")}get birthdate(){return this.petForm.get("birthdate")}clearFields(){this.petForm.controls.name.reset(),this.petForm.controls.phone.reset(),this.petForm.controls.address.reset()}hideSidebar(){this.petsService.petSidebarVisible.set(!1)}openPetSidebar(e){if(this.sidebarMode=e,e=="edit"){let r=this.selectedPet();r.birthdate=this.dateService.formatDate(r.birthdate,"YYYY-MM"),this.petForm.patchValue(r)}else this.petForm.reset({customer_option:"select_customer"});this.petsService.petSidebarVisible.set(!0)}submitPet(){this.submitted=!0,this.petForm.controls.customer_option.value=="select_customer"?(this.petForm.controls.customer_id_fk.addValidators([b.required]),this.petForm.controls.customer_id_fk.updateValueAndValidity(),this.petForm.controls.name.removeValidators([b.required]),this.petForm.controls.name.updateValueAndValidity(),this.petForm.controls.phone.removeValidators([b.required]),this.petForm.controls.phone.updateValueAndValidity()):(this.petForm.controls.customer_id_fk.removeValidators([b.required]),this.petForm.controls.customer_id_fk.updateValueAndValidity(),this.petForm.controls.name.addValidators([b.required]),this.petForm.controls.name.updateValueAndValidity(),this.petForm.controls.phone.addValidators([b.required]),this.petForm.controls.phone.updateValueAndValidity()),this.sidebarMode=="add"?this.petForm.valid&&(this.petsService.createPet(this.petForm.value),this.submitted=!1):this.petForm.valid&&(this.petsService.updatePet(this.petForm.value),this.submitted=!1)}deletePet(){this.confirmationService.confirm({key:"home",message:"Are you sure you want to delete selected profile?",header:"Warning",icon:"pi pi-exclamation-triangle",acceptButtonStyleClass:"p-button-danger",rejectButtonStyleClass:"p-button-secondary",defaultFocus:"reject",accept:()=>{this.petsService.deletePet(this.selectedPet().pet_id)}})}fetchPetInfo(){this.petsService.selectedHistory.set(null),this.petsService.fetchMedicalHistory(this.selectedPet().pet_id)}get medical_description(){return this.historyForm.controls.medical_description.value}showHistoryDialog(e){this.historyDialogType=e,e=="add"?(this.historyForm.reset(),this.historyForm.patchValue({pet_id_fk:this.selectedPet()?.pet_id,record_datetime:this.dateService.getCurrentDatetime()})):(this.historyForm.reset(),this.historyForm.patchValue({record_id:this.selectedHistory()?.record_id,medical_description:this.selectedHistory()?.medical_description,medical_notes:this.selectedHistory()?.medical_notes,record_datetime:this.dateService.formatDate(this.selectedHistory().record_datetime,"YYYY-MM-DD HH:mm")})),this.petsService.historyDialogVisible.set(!0)}closeHistoryDialog(){this.historyForm.reset(),this.petsService.historyDialogVisible.set(!1)}submitHistory(){this.historyDialogType=="add"?this.petsService.createMedicalRecord(this.historyForm.value):this.petsService.updateMedicalRecord(this.historyForm.value)}refreshHistoryTable(){this.petsService.fetchMedicalHistory(this.selectedPet().pet_id)}deleteHistory(){this.confirmationService.confirm({key:"home",message:"Are you sure you want to delete selected item?",header:"Warning",icon:"pi pi-exclamation-triangle",acceptButtonStyleClass:"p-button-danger",rejectButtonStyleClass:"p-button-secondary",defaultFocus:"reject",accept:()=>{this.petsService.deleteMedicalHistory(this.selectedHistory().record_id)}})}static{this.\u0275fac=function(r){return new(r||o)}}static{this.\u0275cmp=M({type:o,selectors:[["app-pets-home"]],viewQuery:function(r,t){if(r&1&&z(Ue,5),r&2){let c;N(c=O())&&(t.petsTable=c.first)}},decls:86,vars:57,consts:[["petsTable",""],["petName",""],[1,"grid","m-1"],[1,"col-6"],["styleClass","mb-2"],["pTemplate","left"],[4,"ngIf"],["legend","Search Form",3,"toggleable"],[3,"ngSubmit","formGroup"],[1,"grid"],[1,"col-12","md:col-6","lg:col-3"],["formControlName","customer_id_fk","styleClass","p-inputtext-sm w-full","id","customer","appendTo","body","optionLabel","name","optionValue","account_id","placeholder","Customer","filterBy","name",1,"w-full",3,"options","filter","showClear","autoOptionFocus"],[1,"col-12","md:col-6","lg:col-4"],["type","search","styleClass","p-inputtext-sm w-full","mask","99-999 999","formControlName","phone","placeholder","Phone ..."],["formControlName","pet_name","type","search","placeholder","Pet Name ...","pInputText","","spellcheck","false",1,"p-inputtext-sm","w-full"],[1,"col-12","md:col-3","lg:col-2"],["type","submit","label","search","icon","pi pi-search","size","small","severity","primary","styleClass","w-full",3,"loading"],[1,"col-12","md:col-10","lg:col-10"],["formControlName","medical_history","type","search","placeholder","Search in medical history ...","pInputText","","spellcheck","false",1,"p-inputtext-sm","w-full"],["icon","pi pi-times","label","Clear","size","small","styleClass","w-full","severity","danger",3,"onClick","disabled"],["styleClass","p-datatable-sm mt-3","selectionMode","single","dataKey","pet_id","currentPageReportTemplate","Showing {first} to {last} of {totalRecords} records","scrollHeight","50vh",3,"selectionChange","onRowSelect","value","selection","paginator","rows","showCurrentPageReport","rowsPerPageOptions","alwaysShowPaginator","globalFilterFields","filterDelay","loading","scrollable"],["pTemplate","header"],["pTemplate","body"],["pTemplate","emptymessage"],["class","col-6",4,"ngIf"],["position","right","styleClass","w-30rem",3,"onHide","visible"],[1,"formgrid","grid"],[1,"field","col-6"],["for","name"],[1,"text-red-600"],["placeholder","Pet Name","id","name","pInputText","","formControlName","pet_name","spellcheck","false",1,"w-full","p-inputtext-sm",3,"ngClass"],["placeholder","Profile #","pInputText","","formControlName","profile_number","spellcheck","false",1,"w-full","p-inputtext-sm"],["for","Species"],["styleClass","p-inputtext-sm","scrollHeight","400px","appendTo","body","formControlName","species","placeholder","Select Species ...","optionLabel","label","optionValue","value",3,"autoOptionFocus","showClear","options","ngClass"],["for","breed"],["placeholder","Breed","pInputText","","formControlName","breed","spellcheck","false",1,"w-full","p-inputtext-sm"],["for","Gender"],["styleClass","p-inputtext-sm","scrollHeight","400px","appendTo","body","formControlName","gender","placeholder","Select Gender ...","optionLabel","label","optionValue","value",3,"autoOptionFocus","showClear","options","ngClass"],["for","birthdate"],["styleClass","p-inputtext-sm w-full","formControlName","birthdate","view","month","dateFormat","yy-mm","appendTo","body","placeholder","birthdate",3,"readonlyInput","showIcon","iconDisplay","ngClass"],[1,"field","col-12"],["for","notes"],["placeholder","Notes","pInputText","","formControlName","notes","spellcheck","false",1,"w-full","p-inputtext-sm"],[1,"flex","flex-wrap","gap-3"],[1,"flex","align-items-center"],["name","customer_option","value","select_customer","inputId","selectCustomer","formControlName","customer_option",3,"ngModelChange"],["for","selectCustomer",1,"ml-2"],["name","customer_option","value","create_new","inputId","createNew","formControlName","customer_option",3,"ngModelChange"],["for","createNew",1,"ml-2"],[1,"field","col-9"],["pTemplate","footer"],["header","Medical History","styleClass","p-fluid","position","top",3,"visibleChange","visible","modal","breakpoints","draggable","resizable"],["pTemplate","content"],["label","New Profile","icon","pi pi-plus","severity","success","size","small",3,"onClick"],["pTemplate","right"],["label","Edit","icon","pi pi-file-edit","severity","warning","size","small","styleClass","mr-2",3,"onClick","disabled"],["label","Delete","icon","pi pi-trash","severity","danger","size","small",3,"onClick","disabled","loading"],["width","15%"],["width","35%"],["width","20%"],["width","25%"],["width","10%"],[3,"pSelectableRow"],[3,"severity"],["colspan","5"],[1,"grid","text-center"],[1,"col-3"],[1,"mt-0","mb-1"],[1,"m-0"],[1,"fas","fa-book-medical","fa-xl","fa-fw"],["dataKey","record_id","styleClass","p-datatable-sm","selectionMode","single","currentPageReportTemplate","Showing {first} to {last} of {totalRecords} records",3,"selectionChange","value","loading","selection","paginator","rows","showCurrentPageReport","rowsPerPageOptions"],["pTemplate","body","track-by","record_id"],["pTemplate","rowexpansion"],["label","Refresh","icon","pi pi-refresh","size","small","styleClass","mx-2 ",3,"click","loading"],["label","New Record","size","small","severity","success","icon","pi pi-plus",3,"onClick"],["label","Edit","icon","pi pi-file-edit","size","small","severity","warning",3,"click","disabled"],["pp-button","","pRipple","","label","Delete","icon","pi pi-trash","size","small","severity","danger",1,"ml-2",3,"onClick","disabled"],[2,"width","5rem"],["type","button",3,"pRowToggler","rounded","plain","severity","icon"],["colspan","3"],[3,"ngStyle"],["for","customer"],[1,"text-red-500"],["styleClass","p-inputtext-sm","id","customer","appendTo","body","formControlName","customer_id_fk","optionLabel","name","optionValue","account_id","placeholder","Select Customer","filterBy","name",3,"options","filter","showClear","autoOptionFocus","ngClass"],["placeholder","Owner Name","pInputText","","formControlName","name","spellcheck","false",1,"w-full","p-inputtext-sm",3,"ngClass"],["styleClass","p-inputtext-sm","mask","99-999 999","formControlName","phone","placeholder","ex: 03-123 456",3,"ngClass"],["for","address"],["placeholder","Address","pInputText","","formControlName","address","spellcheck","false",1,"w-full","p-inputtext-sm"],["type","submit","pButton","","pRipple","","label","Save","icon","pi pi-check",1,"p-button-success","w-full","mb-3",3,"click","loading"],["pButton","","pRipple","","label","Cancel","icon","pi pi-times",1,"p-button-secondary","w-full",3,"click"],[3,"formGroup"],[1,"col-12"],[1,"flex","flex-column","gap-2"],["for","description"],["rows","10","cols","30","pInputTextarea","","formControlName","medical_description","spellcheck","false"],[1,"col-6","field"],["for","record_date"],["formControlName","record_datetime","styleClass","p-inputtext-sm w-full","appendTo","body","dateFormat","yy-mm-dd","placeholder","Date",3,"showIcon","showClear","readonlyInput","showTime"],["label","Cancel","icon","pi pi-times","severity","secondary","size","small",3,"click"],["label","Submit","icon","pi pi-check","severity","success","size","small",3,"click","loading"]],template:function(r,t){if(r&1){let c=S();n(0,"div",2)(1,"div",3)(2,"p-card")(3,"p-toolbar",4),v(4,nt,1,0,"ng-template",5)(5,rt,1,0,null,6),i(),n(6,"p-fieldset",7)(7,"form",8),_("ngSubmit",function(){return h(c),f(t.submitSearch())}),n(8,"div",9)(9,"div",10),p(10,"p-dropdown",11),i(),n(11,"div",12),p(12,"p-inputMask",13),i(),n(13,"div",10),p(14,"input",14),i(),n(15,"div",15),p(16,"p-button",16),i(),n(17,"div",17),p(18,"input",18),i(),n(19,"div",15)(20,"p-button",19),_("onClick",function(){return h(c),f(t.resetSearch())}),i()()()()(),n(21,"p-table",20,0),A("selectionChange",function(w){return h(c),k(t.selectedPet,w)||(t.selectedPet=w),f(w)}),_("onRowSelect",function(){return h(c),f(t.fetchPetInfo())}),v(23,st,11,0,"ng-template",21)(24,at,12,7,"ng-template",22)(25,lt,3,0,"ng-template",23),i()()(),v(26,ft,35,12,"div",24),i(),n(27,"p-sidebar",25),_("onHide",function(){return h(c),f(t.hideSidebar())}),v(28,_t,2,0,"ng-template",21),n(29,"form",8),_("ngSubmit",function(){return h(c),f(t.submitPet())}),n(30,"div",26)(31,"div",27)(32,"label",28),s(33,"Pet Name"),n(34,"span",29),s(35,"*"),i()(),p(36,"input",30,1),i(),n(38,"div",27)(39,"label",28),s(40,"Profile Number"),i(),p(41,"input",31),i(),n(42,"div",27)(43,"label",32),s(44,"Species"),n(45,"span",29),s(46,"*"),i()(),p(47,"p-dropdown",33),i(),n(48,"div",27)(49,"label",34),s(50,"Breed"),i(),p(51,"input",35),i(),n(52,"div",27)(53,"label",36),s(54,"Gender"),n(55,"span",29),s(56,"*"),i()(),p(57,"p-dropdown",37),i(),n(58,"div",27)(59,"label",38),s(60,"Approx Birth"),n(61,"span",29),s(62,"*"),i()(),p(63,"p-calendar",39),i(),n(64,"div",40)(65,"label",41),s(66,"Notes"),i(),p(67,"input",42),i()(),p(68,"p-divider"),n(69,"div",26)(70,"div",40)(71,"div",43)(72,"div",44)(73,"p-radioButton",45),_("ngModelChange",function(){return h(c),f(t.clearFields())}),i(),n(74,"label",46),s(75," Select customer "),i()(),n(76,"div",44)(77,"p-radioButton",47),_("ngModelChange",function(){return h(c),f(t.clearFields())}),i(),n(78,"label",48),s(79," Create new customer "),i()()()(),v(80,gt,6,7,"div",49)(81,bt,14,6),i()(),v(82,yt,2,1,"ng-template",50),i(),n(83,"p-dialog",51),A("visibleChange",function(w){return h(c),k(t.historyDialogVisible,w)||(t.historyDialogVisible=w),f(w)}),v(84,vt,14,5,"ng-template",52)(85,Ct,2,1,"ng-template",50),i()}r&2&&(a(5),l("ngIf",t.userPermissions().edit_pets),a(),l("toggleable",!0),a(),l("formGroup",t.searchForm),a(3),l("options",t.customers())("filter",!0)("showClear",!0)("autoOptionFocus",!1),a(6),l("loading",t.searchLoading()),a(4),l("disabled",t.searchLoading()),a(),l("value",t.pets()),F("selection",t.selectedPet),l("paginator",!0)("rows",10)("showCurrentPageReport",!0)("rowsPerPageOptions",T(45,Je))("alwaysShowPaginator",!0)("globalFilterFields",T(46,Xe))("filterDelay",0)("loading",t.petsLoading())("scrollable",!0),a(5),l("ngIf",t.selectedPet()),a(),l("visible",t.petSidebarVisible()),a(2),l("formGroup",t.petForm),a(7),l("ngClass",x(47,I,t.pet_name.invalid&&(t.pet_name.dirty||t.pet_name.touched||t.submitted))),a(11),l("autoOptionFocus",!1)("showClear",!0)("options",t.speciesOptions)("ngClass",x(49,I,t.species.invalid&&(t.species.dirty||t.species.touched||t.submitted))),a(10),l("autoOptionFocus",!1)("showClear",!0)("options",t.genderOptions)("ngClass",x(51,I,t.gender.invalid&&(t.gender.dirty||t.gender.touched||t.submitted))),a(6),l("readonlyInput",!0)("showIcon",!0)("iconDisplay","input")("readonlyInput",!0)("ngClass",x(53,I,t.birthdate.invalid&&(t.birthdate.dirty||t.birthdate.touched||t.submitted))),a(17),q(t.customer_option.value=="select_customer"?80:81),a(3),K(T(55,Ze)),F("visible",t.historyDialogVisible),l("modal",!0)("breakpoints",T(56,et))("draggable",!1)("resizable",!1))},dependencies:[Q,G,W,ne,ee,te,ie,oe,re,le,B,ke,ue,de,pe,we,Te,Ie,ye,Ve,Se,He,Le,Ne,Re,_e,je,qe],styles:["[_nghost-%COMP%]  .p-button.p-button-icon-only.p-button-rounded{height:2rem!important;width:2rem!important}[_nghost-%COMP%]  .p-fieldset .p-fieldset-content{padding:.75rem 0 0!important}[_nghost-%COMP%]  .p-fieldset.p-fieldset-toggleable .p-fieldset-legend a{padding:.9rem!important}[_nghost-%COMP%]  .p-card .p-card-content{padding:.5rem 0!important}"]})}}return o})();var St=[{path:"",component:We}],$e=(()=>{class o{static{this.\u0275fac=function(r){return new(r||o)}}static{this.\u0275mod=H({type:o})}static{this.\u0275inj=P({imports:[R.forChild(St),R]})}}return o})();var Ye=(()=>{class o{static \u0275fac=function(r){return new(r||o)};static \u0275mod=H({type:o});static \u0275inj=P({imports:[V,Ce,be,U]})}return o})();var Yi=(()=>{class o{static{this.\u0275fac=function(r){return new(r||o)}}static{this.\u0275mod=H({type:o})}static{this.\u0275inj=P({imports:[V,ae,$e,ce,Ae,he,me,Pe,ve,De,xe,Ee,Me,Oe,Be,Ye,Qe,ge,Ke,fe,ze]})}}return o})();export{Yi as PetsModule};
