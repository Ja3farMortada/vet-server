import{b as _e}from"./chunk-2SWJI5IR.js";import{a as De,b as Le}from"./chunk-NVXV5AWN.js";import{a as Fe,b as ke}from"./chunk-VNQ7N5IC.js";import{a as ee}from"./chunk-OUZXLSMN.js";import"./chunk-5Y4A7MAH.js";import{a as Ke,b as qe}from"./chunk-6VIVHFH4.js";import{a as Ae,b as Ve,d as Ge}from"./chunk-NIY2QWE7.js";import"./chunk-2UFRC7H2.js";import{a as Oe,b as Re}from"./chunk-R52AXQF7.js";import{a as ze,b as Qe}from"./chunk-YYILVVI3.js";import{a as L}from"./chunk-PMASXCSM.js";import{a as ge}from"./chunk-7OIYUPV4.js";import"./chunk-HUT5LNQK.js";import"./chunk-6M5CHABF.js";import{d as Ie,g as Ee,h as He,o as Pe}from"./chunk-76SN6DIJ.js";import{a as be,b as ye}from"./chunk-KWHJ4U2D.js";import"./chunk-PTV2L6W6.js";import{a as Me,b as Ne}from"./chunk-I3ZYYSXS.js";import{b as Ce,c as Se,d as xe,i as we,j as Te}from"./chunk-7RM63TIB.js";import{a as Be,b as je}from"./chunk-KTNSRC6L.js";import"./chunk-VVJEHS3M.js";import{a as ce,b as de}from"./chunk-2WM322QF.js";import{b as ve}from"./chunk-DSRCPEU4.js";import{A as v,Aa as O,Ab as B,B as N,Ba as R,Bb as Y,C as P,Da as l,Ea as S,Fa as F,Gb as J,H as u,Ha as k,I as h,Ia as A,Ja as V,Ma as I,Na as w,Pb as j,Qb as X,Sb as Z,Ub as te,V as c,Wb as y,Yb as ie,Zb as ne,aa as b,bc as oe,cc as re,da as C,db as G,dc as se,fa as d,fb as W,fc as ae,gb as $,hc as le,ia as q,jb as D,ka as z,la as i,lb as U,ma as e,na as f,qc as pe,ra as x,rc as me,sa as _,sc as ue,ta as m,tc as he,uc as fe,w as K,x as H,za as Q}from"./chunk-FYHOXPUP.js";var We=(()=>{let s=class s{constructor(){this.http=v(U),this.api=v(Y),this.notificationService=v(Z),this.customersService=v(L),this.pets=b([]),this.petsLoading=b(!1),this.petSidebarVisible=b(!1),this.selectedPet=b(null),this.searchLoading=b(!1),this.petsSubmitLoading=b(!1),this.petsDeleteLoading=b(!1),this.medicalHistory=b([]),this.medicalHistoryLoading=b(!1),this.historyDialogVisible=b(!1),this.historySubmitLoading=b(!1),this.selectedHistory=b(null)}fetchPets(a){this.petsLoading.set(!0),this.http.post(`${this.api.host}/pets/search`,a).subscribe({next:t=>{this.pets.set(t),this.petsLoading.set(!1)},error:t=>{this.petsLoading.set(!1),this.notificationService.showError(t.error,"home")}})}createPet(a){this.petsSubmitLoading.set(!0),this.http.post(`${this.api.host}/pets`,a).subscribe({next:t=>{this.pets.set([...this.pets(),t]),this.notificationService.showSuccess("Pet created successfully!","home"),this.petsSubmitLoading.set(!1),this.petSidebarVisible.set(!1),this.customersService.getCustomers()},error:t=>{this.petsSubmitLoading.set(!1),this.notificationService.showError(t.error,"home")}})}updatePet(a){this.petsSubmitLoading.set(!0),this.http.put(`${this.api.host}/pets`,a).subscribe({next:t=>{this.selectedPet.set(t),this.pets.update(r=>{let p=this.pets().findIndex(g=>g.pet_id===a.pet_id);return[...r.slice(0,p),t,...r.slice(p+1)]}),this.notificationService.showSuccess("Pet updated successfully!","home"),this.petSidebarVisible.set(!1),this.petsSubmitLoading.set(!1)},error:t=>{this.notificationService.showError(t.error,"home"),this.petsSubmitLoading.set(!1)}})}deletePet(a){this.petsDeleteLoading.set(!0),this.http.delete(`${this.api.host}/pets/${a}`).subscribe({next:t=>{this.pets.update(r=>{let p=this.pets().findIndex(g=>g.pet_id===a);return r.splice(p,1),[...r]}),this.notificationService.showSuccess(t.message,"home"),this.petsDeleteLoading.set(!1),this.selectedPet.set(null)},error:t=>{this.notificationService.showError(t.error,"home"),this.petsDeleteLoading.set(!1)}})}fetchMedicalHistory(a){this.medicalHistoryLoading.set(!0),this.http.get(`${this.api.host}/pets/history/${a}`).subscribe({next:t=>{this.medicalHistory.set(t),this.medicalHistoryLoading.set(!1)},error:t=>{this.notificationService.showError(t.error,"home"),this.medicalHistoryLoading.set(!1)}})}createMedicalRecord(a){this.historySubmitLoading.set(!0),this.http.post(`${this.api.host}/pets/history`,a).subscribe({next:t=>{this.medicalHistory.set([t,...this.medicalHistory()]),this.historyDialogVisible.set(!1),this.notificationService.showSuccess("Record added successfully!","home"),this.historySubmitLoading.set(!1)},error:t=>{this.notificationService.showError(t.error,"home"),this.historySubmitLoading.set(!1),this.historyDialogVisible.set(!1)}})}updateMedicalRecord(a){this.historySubmitLoading.set(!0),this.http.put(`${this.api.host}/pets/history`,a).subscribe({next:t=>{this.historySubmitLoading.set(!1),this.medicalHistory.update(r=>{let p=this.medicalHistory().findIndex(g=>g.record_id===a.record_id);return[...r.slice(0,p),t,...r.slice(p+1)]}),this.notificationService.showSuccess("Record updated successfully!","home"),this.historyDialogVisible.set(!1),this.selectedHistory.set(t)},error:t=>{this.notificationService.showError(t.error,"home"),this.historySubmitLoading.set(!1),this.historyDialogVisible.set(!1)}})}deleteMedicalHistory(a){this.medicalHistoryLoading.set(!0),this.http.delete(`${this.api.host}/pets/history/${a}`).subscribe({next:t=>{this.selectedHistory.set(null),this.medicalHistory.update(r=>{let p=this.medicalHistory().findIndex(g=>g.record_id===a);return r.splice(p,1),[...r]}),this.notificationService.showSuccess(t.message,"home"),this.medicalHistoryLoading.set(!1)},error:t=>{this.notificationService.handleError(t.error,"home"),this.medicalHistoryLoading.set(!1)}})}};s.\u0275fac=function(t){return new(t||s)},s.\u0275prov=K({token:s,factory:s.\u0275fac,providedIn:"root"});let n=s;return n})();var Je=["petsTable"],Xe=()=>[10,15,50,100],Ze=()=>["pet_name","name"],E=n=>({"ng-invalid ng-dirty":n}),et=()=>({width:"50vw"}),tt=()=>({"1199px":"75vw","575px":"95vw"}),it=()=>[5,10,50,100],nt=()=>({"white-space":"pre-wrap"});function ot(n,s){if(n&1){let o=x();i(0,"p-button",53),_("onClick",function(){u(o);let t=m();return h(t.openPetSidebar("add"))}),e()}}function rt(n,s){if(n&1){let o=x();i(0,"p-button",55),_("onClick",function(){u(o);let t=m(2);return h(t.openPetSidebar("edit"))}),e(),i(1,"p-button",56),_("onClick",function(){u(o);let t=m(2);return h(t.deletePet())}),e()}if(n&2){let o=m(2);d("disabled",!o.selectedPet()),c(),d("disabled",!o.selectedPet())("loading",o.petsDeleteLoading())}}function st(n,s){n&1&&C(0,rt,2,3,"ng-template",54)}function at(n,s){n&1&&(i(0,"tr")(1,"th",57),l(2,"Profile #"),e(),i(3,"th",58),l(4,"Owner Name"),e(),i(5,"th",59),l(6,"Phone"),e(),i(7,"th",60),l(8,"Pet Name"),e(),i(9,"th",61),l(10,"Species"),e()())}function lt(n,s){if(n&1&&(i(0,"tr",62)(1,"td"),l(2),e(),i(3,"td"),l(4),e(),i(5,"td"),l(6),e(),i(7,"td"),l(8),e(),i(9,"td")(10,"p-tag",63),l(11),e()()()),n&2){let o=s.$implicit;d("pSelectableRow",o),c(2),S(o.profile_number||"---"),c(2),S(o.name),c(2),S(o.phone),c(2),S(o.pet_name||"---"),c(2),d("severity",o.species=="Dog"?"danger":"info"),c(),S(o.species)}}function ct(n,s){n&1&&(i(0,"tr")(1,"td",64),l(2,"No records yet!"),e()())}function dt(n,s){if(n&1){let o=x();i(0,"p-button",73),_("click",function(){u(o);let t=m(2);return h(t.refreshHistoryTable())}),e(),i(1,"p-button",74),_("onClick",function(){u(o);let t=m(2);return h(t.showHistoryDialog("add"))}),e()}if(n&2){let o=m(2);d("loading",o.medicalHistoryLoading())}}function pt(n,s){if(n&1){let o=x();i(0,"p-button",75),_("click",function(){u(o);let t=m(2);return h(t.showHistoryDialog("edit"))}),e(),i(1,"p-button",76),_("onClick",function(){u(o);let t=m(2);return h(t.deleteHistory())}),e()}if(n&2){let o=m(2);d("disabled",!o.selectedHistory()),c(),d("disabled",!o.selectedHistory())}}function mt(n,s){n&1&&(i(0,"tr"),f(1,"th",77),i(2,"th"),l(3,"Record Datetime"),e(),i(4,"th"),l(5,"Description"),e()())}function ut(n,s){if(n&1&&(i(0,"tr",62)(1,"td"),f(2,"p-button",78),e(),i(3,"td"),l(4),e(),i(5,"td"),l(6),e()()),n&2){let o=s.$implicit,a=s.expanded;d("pSelectableRow",o),c(2),d("pRowToggler",o)("rounded",!0)("plain",!0)("severity",a?"danger":"success")("icon",a?"pi pi-minus":"pi pi-plus"),c(2),S(o.record_datetime),c(2),F(" ",o.medical_description.slice(0,30)||"---","... ")}}function ht(n,s){if(n&1&&(i(0,"tr")(1,"td",79)(2,"div",80),l(3),e()()()),n&2){let o=s.$implicit;c(2),d("ngStyle",I(2,nt)),c(),F(" ",o.medical_description," ")}}function ft(n,s){n&1&&(i(0,"tr")(1,"td",79),l(2,"No records yet!"),e()())}function _t(n,s){if(n&1){let o=x();i(0,"div",3)(1,"p-card")(2,"div",65)(3,"div",66)(4,"h3",67),l(5,"Breed"),e(),i(6,"p",68),l(7),e()(),i(8,"div",66)(9,"h3",67),l(10,"Gender"),e(),i(11,"p",68),l(12),e()(),i(13,"div",66)(14,"h3",67),l(15,"Birthdate"),e(),i(16,"p",68),l(17),e()(),i(18,"div",66)(19,"h3",67),l(20,"Notes"),e(),i(21,"p",68),l(22),e()()(),i(23,"p-divider")(24,"h3",68),f(25,"i",69),l(26," Medical History "),e()(),i(27,"p-toolbar"),C(28,dt,2,1,"ng-template",5)(29,pt,2,2,"ng-template",54),e(),i(30,"p-table",70),V("selectionChange",function(t){u(o);let r=m();return A(r.selectedHistory,t)||(r.selectedHistory=t),h(t)}),C(31,mt,6,0,"ng-template",21)(32,ut,7,8,"ng-template",71)(33,ht,4,3,"ng-template",72)(34,ft,3,0,"ng-template",23),e()()()}if(n&2){let o,a,t,r,p=m();c(7),S(((o=p.selectedPet())==null?null:o.breed)||"---"),c(5),S((a=p.selectedPet())==null?null:a.gender),c(5),S((t=p.selectedPet())==null?null:t.birthdate),c(5),S(((r=p.selectedPet())==null?null:r.notes)||"----"),c(8),d("value",p.medicalHistory())("loading",p.medicalHistoryLoading()),k("selection",p.selectedHistory),d("paginator",!0)("rows",5)("showCurrentPageReport",!0)("rowsPerPageOptions",I(11,it))}}function gt(n,s){n&1&&(i(0,"h3"),l(1,"Pets"),e())}function bt(n,s){if(n&1&&(i(0,"div",49)(1,"label",81),l(2,"Customer"),i(3,"span",82),l(4," *"),e()(),f(5,"p-dropdown",83),e()),n&2){let o=m();c(5),d("options",o.customers())("filter",!0)("showClear",!0)("autoOptionFocus",!1)("ngClass",w(5,E,o.customer_id_fk.invalid&&((o.customer_id_fk==null?null:o.customer_id_fk.dirty)||(o.customer_id_fk==null?null:o.customer_id_fk.touched)||o.submitted)))}}function yt(n,s){if(n&1&&(i(0,"div",27)(1,"label",28),l(2,"Owner Name"),i(3,"span",29),l(4,"*"),e()(),f(5,"input",84),e(),i(6,"div",27)(7,"label"),l(8,"Phone"),e(),f(9,"p-inputMask",85),e(),i(10,"div",40)(11,"label",86),l(12,"Address"),e(),f(13,"input",87),e()),n&2){let o=m();c(5),d("ngClass",w(2,E,o.name.invalid&&(o.name.dirty||o.name.touched||o.submitted))),c(4),d("ngClass",w(4,E,o.phone.invalid&&(o.phone.dirty||o.phone.touched||o.submitted)))}}function vt(n,s){if(n&1){let o=x();i(0,"button",88),_("click",function(){u(o);let t=m();return h(t.submitPet())}),e(),i(1,"button",89),_("click",function(){u(o);let t=m();return h(t.hideSidebar())}),e()}if(n&2){let o=m();d("loading",o.petsSubmitLoading())}}function Ct(n,s){if(n&1&&(i(0,"form",90)(1,"div",9)(2,"div",91)(3,"div",92)(4,"label",93),l(5,"Medical Description"),i(6,"span",82),l(7," *"),e()(),i(8,"textarea",94),l(9,"                        "),e()()()()()),n&2){let o=m();d("formGroup",o.historyForm)}}function St(n,s){if(n&1){let o=x();i(0,"p-button",95),_("click",function(){u(o);let t=m();return h(t.closeHistoryDialog())}),e(),i(1,"p-button",96),_("click",function(){u(o);let t=m();return h(t.submitHistory())}),e()}if(n&2){let o=m();c(),d("loading",o.historySubmitLoading())}}var $e=(()=>{let s=class s{constructor(){this.petsService=v(We),this.fb=v(ae),this.customerService=v(L),this.dateService=v(ge),this.confirmationService=v(J),this.authService=v(ee),this.pets=this.petsService.pets,this.selectedPet=this.petsService.selectedPet,this.submitted=!1,this.petSidebarVisible=this.petsService.petSidebarVisible,this.petsLoading=this.petsService.petsLoading,this.sidebarMode=null,this.customers=this.customerService.customers,this.userPermissions=this.authService.userPermissions,this.medicalHistory=this.petsService.medicalHistory,this.searchForm=this.fb.group({customer_id_fk:[null],phone:[null],pet_name:[null],medical_history:[null]}),this.searchLoading=this.petsService.searchLoading,this.petsSubmitLoading=this.petsService.petsSubmitLoading,this.petsDeleteLoading=this.petsService.petsDeleteLoading,this.speciesOptions=[{label:"Dog",value:"Dog"},{label:"Cat",value:"Cat"},{label:"Other",value:"Other"}],this.genderOptions=[{label:"Male",value:"Male"},{label:"Female",value:"Female"}],this.petForm=this.fb.group({pet_id:[null],profile_number:[null],pet_name:[null,y.required],species:[null,y.required],breed:[null],gender:[null,y.required],birthdate:[null,y.required],notes:[null],customer_id_fk:[null],name:[null],phone:[null],address:[null],customer_option:["select_customer"]}),this.medicalHistoryLoading=this.petsService.medicalHistoryLoading,this.historyDialogVisible=this.petsService.historyDialogVisible,this.historySubmitLoading=this.petsService.historySubmitLoading,this.selectedHistory=this.petsService.selectedHistory,this.historyDialogType="",this.historyForm=this.fb.group({record_id:[null],pet_id_fk:[null,y.required],medical_description:[null,y.required],medical_notes:[null],record_datetime:[this.dateService.getCurrentDatetime()]})}submitSearch(){this.petsTable?.reset(),this.petsService.fetchPets(this.searchForm.value)}resetSearch(){this.petsTable?.reset(),this.searchForm.reset(),this.petsService.pets.set([]),this.petsService.selectedPet.set(null)}get pet_name(){return this.petForm.get("pet_name")}get species(){return this.petForm.get("species")}get gender(){return this.petForm.get("gender")}get name(){return this.petForm.get("name")}get phone(){return this.petForm.get("phone")}get customer_id_fk(){return this.petForm.get("customer_id_fk")}get customer_option(){return this.petForm.get("customer_option")}get birthdate(){return this.petForm.get("birthdate")}clearFields(){this.petForm.controls.name.reset(),this.petForm.controls.phone.reset(),this.petForm.controls.address.reset()}hideSidebar(){this.petsService.petSidebarVisible.set(!1)}openPetSidebar(a){if(this.sidebarMode=a,a=="edit"){let t=this.selectedPet();t.birthdate=this.dateService.formatDate(t.birthdate,"YYYY-MM"),this.petForm.patchValue(t)}else this.petForm.reset({customer_option:"select_customer"});this.petsService.petSidebarVisible.set(!0)}submitPet(){this.submitted=!0,this.petForm.controls.customer_option.value=="select_customer"?(this.petForm.controls.customer_id_fk.addValidators([y.required]),this.petForm.controls.customer_id_fk.updateValueAndValidity(),this.petForm.controls.name.removeValidators([y.required]),this.petForm.controls.name.updateValueAndValidity(),this.petForm.controls.phone.removeValidators([y.required]),this.petForm.controls.phone.updateValueAndValidity()):(this.petForm.controls.customer_id_fk.removeValidators([y.required]),this.petForm.controls.customer_id_fk.updateValueAndValidity(),this.petForm.controls.name.addValidators([y.required]),this.petForm.controls.name.updateValueAndValidity(),this.petForm.controls.phone.addValidators([y.required]),this.petForm.controls.phone.updateValueAndValidity()),this.sidebarMode=="add"?this.petForm.valid&&(this.petsService.createPet(this.petForm.value),this.submitted=!1):this.petForm.valid&&(this.petsService.updatePet(this.petForm.value),this.submitted=!1)}deletePet(){this.confirmationService.confirm({key:"home",message:"Are you sure you want to delete selected profile?",header:"Warning",icon:"pi pi-exclamation-triangle",acceptButtonStyleClass:"p-button-danger",rejectButtonStyleClass:"p-button-secondary",defaultFocus:"reject",accept:()=>{this.petsService.deletePet(this.selectedPet().pet_id)}})}fetchPetInfo(){this.petsService.selectedHistory.set(null),this.petsService.fetchMedicalHistory(this.selectedPet().pet_id)}get medical_description(){return this.historyForm.controls.medical_description.value}showHistoryDialog(a){this.historyDialogType=a,a=="add"?(this.historyForm.reset(),this.historyForm.patchValue({pet_id_fk:this.selectedPet()?.pet_id,record_datetime:this.dateService.getCurrentDatetime()})):(this.historyForm.reset(),this.historyForm.patchValue({record_id:this.selectedHistory()?.record_id,medical_description:this.selectedHistory()?.medical_description,medical_notes:this.selectedHistory()?.medical_notes})),this.petsService.historyDialogVisible.set(!0)}closeHistoryDialog(){this.historyForm.reset(),this.petsService.historyDialogVisible.set(!1)}submitHistory(){this.historyDialogType=="add"?this.petsService.createMedicalRecord(this.historyForm.value):this.petsService.updateMedicalRecord(this.historyForm.value)}refreshHistoryTable(){this.petsService.fetchMedicalHistory(this.selectedPet().pet_id)}deleteHistory(){this.confirmationService.confirm({key:"home",message:"Are you sure you want to delete selected item?",header:"Warning",icon:"pi pi-exclamation-triangle",acceptButtonStyleClass:"p-button-danger",rejectButtonStyleClass:"p-button-secondary",defaultFocus:"reject",accept:()=>{this.petsService.deleteMedicalHistory(this.selectedHistory().record_id)}})}};s.\u0275fac=function(t){return new(t||s)},s.\u0275cmp=N({type:s,selectors:[["app-pets-home"]],viewQuery:function(t,r){if(t&1&&Q(Je,5),t&2){let p;O(p=R())&&(r.petsTable=p.first)}},decls:86,vars:57,consts:[["petsTable",""],["petName",""],[1,"grid","m-1"],[1,"col-6"],["styleClass","mb-2"],["pTemplate","left"],[4,"ngIf"],["legend","Search Form",3,"toggleable"],[3,"ngSubmit","formGroup"],[1,"grid"],[1,"col-12","md:col-6","lg:col-3"],["formControlName","customer_id_fk","styleClass","p-inputtext-sm w-full","id","customer","appendTo","body","optionLabel","name","optionValue","account_id","placeholder","Customer","filterBy","name",1,"w-full",3,"options","filter","showClear","autoOptionFocus"],[1,"col-12","md:col-6","lg:col-4"],["type","search","styleClass","p-inputtext-sm w-full","mask","99-999 999","formControlName","phone","placeholder","Phone ..."],["formControlName","pet_name","type","search","placeholder","Pet Name ...","pInputText","","spellcheck","false",1,"p-inputtext-sm","w-full"],[1,"col-12","md:col-3","lg:col-2"],["type","submit","label","search","icon","pi pi-search","size","small","severity","primary","styleClass","w-full",3,"loading"],[1,"col-12","md:col-10","lg:col-10"],["formControlName","medical_history","type","search","placeholder","Search in medical history ...","pInputText","","spellcheck","false",1,"p-inputtext-sm","w-full"],["icon","pi pi-times","label","Clear","size","small","styleClass","w-full","severity","danger",3,"onClick","disabled"],["styleClass","p-datatable-sm mt-3","selectionMode","single","dataKey","pet_id","currentPageReportTemplate","Showing {first} to {last} of {totalRecords} records","scrollHeight","50vh",3,"selectionChange","onRowSelect","value","selection","paginator","rows","showCurrentPageReport","rowsPerPageOptions","alwaysShowPaginator","globalFilterFields","filterDelay","loading","scrollable"],["pTemplate","header"],["pTemplate","body"],["pTemplate","emptymessage"],["class","col-6",4,"ngIf"],["position","right","styleClass","w-30rem",3,"onHide","visible"],[1,"formgrid","grid"],[1,"field","col-6"],["for","name"],[1,"text-red-600"],["placeholder","Pet Name","id","name","pInputText","","formControlName","pet_name","spellcheck","false",1,"w-full","p-inputtext-sm",3,"ngClass"],["placeholder","Profile #","pInputText","","formControlName","profile_number","spellcheck","false",1,"w-full","p-inputtext-sm"],["for","Species"],["styleClass","p-inputtext-sm","scrollHeight","400px","appendTo","body","formControlName","species","placeholder","Select Species ...","optionLabel","label","optionValue","value",3,"autoOptionFocus","showClear","options","ngClass"],["for","breed"],["placeholder","Breed","pInputText","","formControlName","breed","spellcheck","false",1,"w-full","p-inputtext-sm"],["for","Gender"],["styleClass","p-inputtext-sm","scrollHeight","400px","appendTo","body","formControlName","gender","placeholder","Select Gender ...","optionLabel","label","optionValue","value",3,"autoOptionFocus","showClear","options","ngClass"],["for","birthdate"],["styleClass","p-inputtext-sm w-full","formControlName","birthdate","view","month","dateFormat","yy-mm","appendTo","body","placeholder","birthdate",3,"readonlyInput","showIcon","iconDisplay","ngClass"],[1,"field","col-12"],["for","notes"],["placeholder","Notes","pInputText","","formControlName","notes","spellcheck","false",1,"w-full","p-inputtext-sm"],[1,"flex","flex-wrap","gap-3"],[1,"flex","align-items-center"],["name","customer_option","value","select_customer","inputId","selectCustomer","formControlName","customer_option",3,"ngModelChange"],["for","selectCustomer",1,"ml-2"],["name","customer_option","value","create_new","inputId","createNew","formControlName","customer_option",3,"ngModelChange"],["for","createNew",1,"ml-2"],[1,"field","col-9"],["pTemplate","footer"],["header","Medical History","styleClass","p-fluid","position","top",3,"visibleChange","visible","modal","breakpoints","draggable","resizable"],["pTemplate","content"],["label","New Profile","icon","pi pi-plus","severity","success","size","small",3,"onClick"],["pTemplate","right"],["label","Edit","icon","pi pi-file-edit","severity","warning","size","small","styleClass","mr-2",3,"onClick","disabled"],["label","Delete","icon","pi pi-trash","severity","danger","size","small",3,"onClick","disabled","loading"],["width","15%"],["width","35%"],["width","20%"],["width","25%"],["width","10%"],[3,"pSelectableRow"],[3,"severity"],["colspan","5"],[1,"grid","text-center"],[1,"col-3"],[1,"mt-0","mb-1"],[1,"m-0"],[1,"fas","fa-book-medical","fa-xl","fa-fw"],["dataKey","record_id","styleClass","p-datatable-sm","selectionMode","single","currentPageReportTemplate","Showing {first} to {last} of {totalRecords} records",3,"selectionChange","value","loading","selection","paginator","rows","showCurrentPageReport","rowsPerPageOptions"],["pTemplate","body","track-by","record_id"],["pTemplate","rowexpansion"],["label","Refresh","icon","pi pi-refresh","size","small","styleClass","mx-2 ",3,"click","loading"],["label","New Record","size","small","severity","success","icon","pi pi-plus",3,"onClick"],["label","Edit","icon","pi pi-file-edit","size","small","severity","warning",3,"click","disabled"],["pp-button","","pRipple","","label","Delete","icon","pi pi-trash","size","small","severity","danger",1,"ml-2",3,"onClick","disabled"],[2,"width","5rem"],["type","button",3,"pRowToggler","rounded","plain","severity","icon"],["colspan","3"],[3,"ngStyle"],["for","customer"],[1,"text-red-500"],["styleClass","p-inputtext-sm","id","customer","appendTo","body","formControlName","customer_id_fk","optionLabel","name","optionValue","account_id","placeholder","Select Customer","filterBy","name",3,"options","filter","showClear","autoOptionFocus","ngClass"],["placeholder","Owner Name","pInputText","","formControlName","name","spellcheck","false",1,"w-full","p-inputtext-sm",3,"ngClass"],["styleClass","p-inputtext-sm","mask","99-999 999","formControlName","phone","placeholder","ex: 03-123 456",3,"ngClass"],["for","address"],["placeholder","Address","pInputText","","formControlName","address","spellcheck","false",1,"w-full","p-inputtext-sm"],["type","submit","pButton","","pRipple","","label","Save","icon","pi pi-check",1,"p-button-success","w-full","mb-3",3,"click","loading"],["pButton","","pRipple","","label","Cancel","icon","pi pi-times",1,"p-button-secondary","w-full",3,"click"],[3,"formGroup"],[1,"col-12"],[1,"flex","flex-column","gap-2"],["for","description"],["rows","10","cols","30","pInputTextarea","","formControlName","medical_description","spellcheck","false"],["label","Cancel","icon","pi pi-times","severity","secondary","size","small",3,"click"],["label","Submit","icon","pi pi-check","severity","success","size","small",3,"click","loading"]],template:function(t,r){if(t&1){let p=x();i(0,"div",2)(1,"div",3)(2,"p-card")(3,"p-toolbar",4),C(4,ot,1,0,"ng-template",5)(5,st,1,0,null,6),e(),i(6,"p-fieldset",7)(7,"form",8),_("ngSubmit",function(){return u(p),h(r.submitSearch())}),i(8,"div",9)(9,"div",10),f(10,"p-dropdown",11),e(),i(11,"div",12),f(12,"p-inputMask",13),e(),i(13,"div",10),f(14,"input",14),e(),i(15,"div",15),f(16,"p-button",16),e(),i(17,"div",17),f(18,"input",18),e(),i(19,"div",15)(20,"p-button",19),_("onClick",function(){return u(p),h(r.resetSearch())}),e()()()()(),i(21,"p-table",20,0),V("selectionChange",function(T){return u(p),A(r.selectedPet,T)||(r.selectedPet=T),h(T)}),_("onRowSelect",function(){return u(p),h(r.fetchPetInfo())}),C(23,at,11,0,"ng-template",21)(24,lt,12,7,"ng-template",22)(25,ct,3,0,"ng-template",23),e()()(),C(26,_t,35,12,"div",24),e(),i(27,"p-sidebar",25),_("onHide",function(){return u(p),h(r.hideSidebar())}),C(28,gt,2,0,"ng-template",21),i(29,"form",8),_("ngSubmit",function(){return u(p),h(r.submitPet())}),i(30,"div",26)(31,"div",27)(32,"label",28),l(33,"Pet Name"),i(34,"span",29),l(35,"*"),e()(),f(36,"input",30,1),e(),i(38,"div",27)(39,"label",28),l(40,"Profile Number"),e(),f(41,"input",31),e(),i(42,"div",27)(43,"label",32),l(44,"Species"),i(45,"span",29),l(46,"*"),e()(),f(47,"p-dropdown",33),e(),i(48,"div",27)(49,"label",34),l(50,"Breed"),e(),f(51,"input",35),e(),i(52,"div",27)(53,"label",36),l(54,"Gender"),i(55,"span",29),l(56,"*"),e()(),f(57,"p-dropdown",37),e(),i(58,"div",27)(59,"label",38),l(60,"Approx Birth"),i(61,"span",29),l(62,"*"),e()(),f(63,"p-calendar",39),e(),i(64,"div",40)(65,"label",41),l(66,"Notes"),e(),f(67,"input",42),e()(),f(68,"p-divider"),i(69,"div",26)(70,"div",40)(71,"div",43)(72,"div",44)(73,"p-radioButton",45),_("ngModelChange",function(){return u(p),h(r.clearFields())}),e(),i(74,"label",46),l(75," Select customer "),e()(),i(76,"div",44)(77,"p-radioButton",47),_("ngModelChange",function(){return u(p),h(r.clearFields())}),e(),i(78,"label",48),l(79," Create new customer "),e()()()(),C(80,bt,6,7,"div",49)(81,yt,14,6),e()(),C(82,vt,2,1,"ng-template",50),e(),i(83,"p-dialog",51),V("visibleChange",function(T){return u(p),A(r.historyDialogVisible,T)||(r.historyDialogVisible=T),h(T)}),C(84,Ct,10,1,"ng-template",52)(85,St,2,1,"ng-template",50),e()}t&2&&(c(5),d("ngIf",r.userPermissions().edit_pets),c(),d("toggleable",!0),c(),d("formGroup",r.searchForm),c(3),d("options",r.customers())("filter",!0)("showClear",!0)("autoOptionFocus",!1),c(6),d("loading",r.searchLoading()),c(4),d("disabled",r.searchLoading()),c(),d("value",r.pets()),k("selection",r.selectedPet),d("paginator",!0)("rows",10)("showCurrentPageReport",!0)("rowsPerPageOptions",I(45,Xe))("alwaysShowPaginator",!0)("globalFilterFields",I(46,Ze))("filterDelay",0)("loading",r.petsLoading())("scrollable",!0),c(5),d("ngIf",r.selectedPet()),c(),d("visible",r.petSidebarVisible()),c(2),d("formGroup",r.petForm),c(7),d("ngClass",w(47,E,r.pet_name.invalid&&(r.pet_name.dirty||r.pet_name.touched||r.submitted))),c(11),d("autoOptionFocus",!1)("showClear",!0)("options",r.speciesOptions)("ngClass",w(49,E,r.species.invalid&&(r.species.dirty||r.species.touched||r.submitted))),c(10),d("autoOptionFocus",!1)("showClear",!0)("options",r.genderOptions)("ngClass",w(51,E,r.gender.invalid&&(r.gender.dirty||r.gender.touched||r.submitted))),c(6),d("readonlyInput",!0)("showIcon",!0)("iconDisplay","input")("readonlyInput",!0)("ngClass",w(53,E,r.birthdate.invalid&&(r.birthdate.dirty||r.birthdate.touched||r.submitted))),c(17),z(r.customer_option.value=="select_customer"?80:81),c(3),q(I(55,et)),k("visible",r.historyDialogVisible),d("modal",!0)("breakpoints",I(56,tt))("draggable",!1)("resizable",!1))},dependencies:[G,W,$,oe,te,ie,ne,re,se,ce,j,be,he,pe,me,Ie,Ee,He,we,Fe,Se,Ae,De,Me,Oe,Be,Ke,ze],styles:["[_nghost-%COMP%]  .p-button.p-button-icon-only.p-button-rounded{height:2rem!important;width:2rem!important}[_nghost-%COMP%]  .p-fieldset .p-fieldset-content{padding:.75rem 0 0!important}[_nghost-%COMP%]  .p-fieldset.p-fieldset-toggleable .p-fieldset-legend a{padding:.9rem!important}[_nghost-%COMP%]  .p-card .p-card-content{padding:.5rem 0!important}"]});let n=s;return n})();var xt=[{path:"",component:$e}],Ue=(()=>{let s=class s{};s.\u0275fac=function(t){return new(t||s)},s.\u0275mod=P({type:s}),s.\u0275inj=H({imports:[B.forChild(xt),B]});let n=s;return n})();var Ye=(()=>{class n{static \u0275fac=function(a){return new(a||n)};static \u0275mod=P({type:n});static \u0275inj=H({imports:[D,ve,Ce,X]})}return n})();var Yi=(()=>{let s=class s{};s.\u0275fac=function(t){return new(t||s)},s.\u0275mod=P({type:s}),s.\u0275inj=H({imports:[D,le,Ue,de,ye,fe,ue,Pe,Te,ke,xe,Ve,Le,Ne,Re,Ye,Ge,je,qe,_e,Qe]});let n=s;return n})();export{Yi as PetsModule};
