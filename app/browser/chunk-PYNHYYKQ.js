import{a as w}from"./chunk-SNRKMWUG.js";import{a as N}from"./chunk-MLK4GACY.js";import{d as J,e as X,f as Y,g as Z,k as $,l as ee,o as te}from"./chunk-IREPXSKQ.js";import{a as ie,b as ne}from"./chunk-JPFKXQZP.js";import{Aa as l,Ab as U,Ba as _,Fa as y,Ga as g,Ha as m,Ic as q,Jc as A,Kc as G,Lc as K,N as f,Na as B,O as V,Oa as H,Pa as O,Qa as P,R as F,Ra as p,Sa as W,Ta as h,V as u,Va as T,W as d,Wa as D,Xa as E,Za as z,_ as C,_a as b,ec as j,ha as s,hb as R,i as I,ia as L,ib as k,ra as v,ta as c,wa as M,za as r,zb as Q}from"./chunk-WLCZSOBW.js";var oe=(()=>{let n=class n{constructor(){this.stockService=f(w),this.exchangeRate=this.stockService.exchangeRate}transform(i){return new Intl.NumberFormat("en-US",{minimumFractionDigits:0}).format(Number(Math.round(i*this.exchangeRate().rate_value/1e3)*1e3)||0)+" L.L"}};n.\u0275fac=function(e){return new(e||n)},n.\u0275pipe=F({name:"dollar",type:n,pure:!0,standalone:!0});let t=n;return t})();var le=["tableSearch"],ae=()=>({width:"75vw"}),se=()=>({"1199px":"85vw","575px":"95vw"}),ce=()=>["product_name"],pe=()=>[10,15,50,100];function me(t,n){t&1&&(r(0,"tr")(1,"th",15),_(2,"p-tableHeaderCheckbox"),l(),r(3,"th",16),p(4," Description"),_(5,"p-sortIcon",17),l(),r(6,"th"),p(7,"Price"),l(),r(8,"th"),p(9,"LBP Price"),l()())}function ue(t,n){if(t&1&&(r(0,"tr",18)(1,"td"),_(2,"p-tableCheckbox",19),l(),r(3,"td"),p(4),l(),r(5,"td"),p(6),R(7,"currency"),l(),r(8,"td"),p(9),R(10,"dollar"),l()()),t&2){let o=n.$implicit;c("pSelectableRow",o),s(2),c("pSelectableRow",o)("value",o),s(2),W(o.product_name),s(2),h(" ",k(7,6,o.unit_price_usd)," "),s(3),h(" ",k(10,8,o.unit_price_usd)," ")}}function de(t,n){t&1&&(r(0,"tr")(1,"td",20),p(2,"No items yet!"),l()())}function _e(t,n){if(t&1){let o=y();r(0,"div",5)(1,"div",6)(2,"span",7),_(3,"i",8),r(4,"input",9,0),g("input",function(e){u(o);let a=P(10);return d(a.filterGlobal(e.target.value,"contains"))}),l()()(),r(6,"div",6)(7,"h3",10),p(8),l()()(),r(9,"p-table",11,1),E("selectionChange",function(e){u(o);let a=m();return D(a.selectedProducts,e)||(a.selectedProducts=e),d(e)}),g("onRowSelect",function(){u(o);let e=m();return d(e.selectInput())})("onRowUnselect",function(){u(o);let e=m();return d(e.selectInput())}),v(11,me,10,0,"ng-template",12)(12,ue,11,10,"ng-template",13)(13,de,3,0,"ng-template",14),l()}if(t&2){let o=P(10),i=m();s(4),c("value",o.filters.global==null?null:o.filters.global.value),s(4),h(" Total Selected: ",i.selectedProducts.length," "),s(),c("value",i.products()),T("selection",i.selectedProducts),c("loading",i.tableLoading)("globalFilterFields",b(12,ce))("filterDelay",0)("paginator",!0)("rows",10)("showCurrentPageReport",!0)("rowsPerPageOptions",b(13,pe))("alwaysShowPaginator",!0)}}function ge(t,n){if(t&1){let o=y();r(0,"p-button",21),g("onClick",function(){u(o);let e=m();return d(e.closeDialog())}),l(),r(1,"p-button",22),g("onClick",function(){u(o);let e=m();return d(e.submitProducts())}),l()}if(t&2){let o=m();s(),c("disabled",o.selectedProducts.length==0)}}var We=(()=>{let n=class n{constructor(i){this.authService=i,this.visible=!1,this.tableLoading=!1,this.onSubmit=new C,this.onHide=new C,this.stockService=f(w),this.subscriptions=new I,this.selectedProducts=[]}submitProducts(){this.onSubmit.emit(this.selectedProducts),this.closeDialog()}closeDialog(){this.selectedProducts=[],this.onHide.emit(!1)}print(){window.print()}getPriceTypeLabel(i){return{unit_price_usd:"\u0645\u0641\u0631\u0642",whole_price_usd:"\u062C\u0645\u0644\u0629",grandwhole_price_usd:"\u062C\u0645\u0644\u0629 \u0627\u0644\u062C\u0645\u0644\u0629",latest:"\u0622\u062E\u0631 \u0633\u0639\u0631"}[i]}selectInput(){this.tableSearch.nativeElement.select()}};n.\u0275fac=function(e){return new(e||n)(L(N))},n.\u0275cmp=V({type:n,selectors:[["products-dialog"]],viewQuery:function(e,a){if(e&1&&B(le,5),e&2){let S;H(S=O())&&(a.tableSearch=S.first)}},inputs:{visible:"visible",products:"products",tableLoading:"tableLoading"},outputs:{onSubmit:"onSubmit",onHide:"onHide"},standalone:!0,features:[z],decls:3,vars:10,consts:[["tableSearch",""],["dt",""],["position","top","header","Select Items","styleClass","p-fluid",3,"visibleChange","modal","visible","breakpoints","closeOnEscape","closable","maximizable"],["pTemplate","content"],["pTemplate","footer"],[1,"grid","mb-2"],[1,"col-6"],[1,"p-input-icon-left"],[1,"pi","pi-search"],["pInputText","","type","search","placeholder","Search ...",1,"p-inputtext-sm",3,"input","value"],[1,"text-center","m-0"],["selectionMode","multiple","dataKey","product_id","styleClass","p-datatable-sm","currentPageReportTemplate","Showing {first} to {last} of {totalRecords} records",3,"selectionChange","onRowSelect","onRowUnselect","value","selection","loading","globalFilterFields","filterDelay","paginator","rows","showCurrentPageReport","rowsPerPageOptions","alwaysShowPaginator"],["pTemplate","header"],["pTemplate","body"],["pTemplate","emptymessage"],[2,"width","3rem"],["pSortableColumn","product_name"],["field","product_name"],[3,"pSelectableRow"],[3,"pSelectableRow","value"],["colspan","4"],["label","Cancel","icon","pi pi-times","severity","secondary","size","small",3,"onClick"],["label","Finish","icon","pi pi-check","severity","success","size","small",3,"onClick","disabled"]],template:function(e,a){e&1&&(r(0,"p-dialog",2),E("visibleChange",function(x){return D(a.visible,x)||(a.visible=x),x}),v(1,_e,14,14,"ng-template",3)(2,ge,2,1,"ng-template",4),l()),e&2&&(M(b(8,ae)),c("modal",!0),T("visible",a.visible),c("breakpoints",b(9,se))("closeOnEscape",!1)("closable",!1)("maximizable",!0))},dependencies:[te,J,j,X,Z,Y,$,ee,A,q,ne,ie,Q,U,K,G,oe],styles:["[_nghost-%COMP%]  .p-dialog-content{padding-top:.5rem}"]});let t=n;return t})();export{oe as a,We as b};
