import{a as ui,b as ci}from"./chunk-VOXXVOXK.js";import{a as _i,b as at}from"./chunk-JJECHE4U.js";import{a as hi,b as vi,c as gi,d as yi}from"./chunk-GWYW22Z3.js";import{a as lt}from"./chunk-RTGN4KEU.js";import{a as pi}from"./chunk-VVB47BQR.js";import{a as K}from"./chunk-M2SC5N44.js";import{a as Yn}from"./chunk-GP6B5D5B.js";import{a as ut,b as ct}from"./chunk-FBUZJWTJ.js";import{a as fi,b as di}from"./chunk-PVZSMVQR.js";import{a as mi,b as ot}from"./chunk-ZCTIZENU.js";import{a as ei,b as ti}from"./chunk-YFOOUP6R.js";import{a as he,b as li}from"./chunk-OZP7HNKL.js";import{b as pe,c as it,f as me,g as ni,h as ii,i as _e,j as ri,o as oi,p as ai,q as rt}from"./chunk-O7Y33RWW.js";import{b as si}from"./chunk-WLZVRSNO.js";import"./chunk-RWK74YMD.js";import"./chunk-JLYTJQKU.js";import"./chunk-O2Z7APEW.js";import{a as Ke,b as Je}from"./chunk-3SSLHLWI.js";import{i as tt,j as nt}from"./chunk-SOXUPN2Q.js";import{$a as N,Aa as o,Ab as $e,Ba as g,Fa as b,Ga as _,Ha as p,Ic as Ze,Jc as L,K as qe,Kb as Wn,Kc as se,Lc as fe,Mc as et,N as S,Na as te,O as C,Oa as ne,P as je,Pa as ie,Q as qn,Qa as It,Ra as c,Rb as Rt,Sa as x,Ta as G,U as jn,V as h,Va as I,W as v,Wa as R,X as Gn,Xa as P,Xb as We,Za as He,_ as Ge,_a as w,ab as Un,ba as Hn,bd as q,cd as de,e as m,ec as F,g as oo,ga as zn,ha as f,hb as re,hc as Qe,i as Ln,ib as oe,ic as Qn,kc as ue,mc as O,oc as X,pc as $,qc as Kn,ra as y,rb as Xn,rc as ke,sb as $n,ta as d,tc as W,ub as ze,uc as Q,vc as Y,wa as B,wb as Ue,wc as Jn,xc as ce,ya as Tt,yc as Zn,za as a,zb as Xe,zc as Ye}from"./chunk-TC4DAS4S.js";var k=m(Pt=>{"use strict";Object.defineProperty(Pt,"__esModule",{value:!0});function vo(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var go=function t(e,n){vo(this,t),this.data=e,this.text=n.text||e,this.options=n};Pt.default=go});var wi=m(mt=>{"use strict";Object.defineProperty(mt,"__esModule",{value:!0});mt.CODE39=void 0;var yo=function(){function t(e,n){for(var i=0;i<n.length;i++){var r=n[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),bo=k(),So=Eo(bo);function Eo(t){return t&&t.__esModule?t:{default:t}}function wo(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function xo(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function Co(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var Oo=function(t){Co(e,t);function e(n,i){return wo(this,e),n=n.toUpperCase(),i.mod43&&(n+=Io(Ro(n))),xo(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,n,i))}return yo(e,[{key:"encode",value:function(){for(var i=Dt("*"),r=0;r<this.data.length;r++)i+=Dt(this.data[r])+"0";return i+=Dt("*"),{data:i,text:this.text}}},{key:"valid",value:function(){return this.data.search(/^[0-9A-Z\-\.\ \$\/\+\%]+$/)!==-1}}]),e}(So.default),Si=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","-","."," ","$","/","+","%","*"],ko=[20957,29783,23639,30485,20951,29813,23669,20855,29789,23645,29975,23831,30533,22295,30149,24005,21623,29981,23837,22301,30023,23879,30545,22343,30161,24017,21959,30065,23921,22385,29015,18263,29141,17879,29045,18293,17783,29021,18269,17477,17489,17681,20753,35770];function Dt(t){return To(Ei(t))}function To(t){return ko[t].toString(2)}function Io(t){return Si[t]}function Ei(t){return Si.indexOf(t)}function Ro(t){for(var e=0,n=0;n<t.length;n++)e+=Ei(t[n]);return e=e%43,e}mt.CODE39=Oo});var ve=m(E=>{"use strict";Object.defineProperty(E,"__esModule",{value:!0});var Te;function Mt(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var xi=E.SET_A=0,Ci=E.SET_B=1,Oi=E.SET_C=2,qf=E.SHIFT=98,Po=E.START_A=103,Do=E.START_B=104,Mo=E.START_C=105,jf=E.MODULO=103,Gf=E.STOP=106,Hf=E.FNC1=207,zf=E.SET_BY_CODE=(Te={},Mt(Te,Po,xi),Mt(Te,Do,Ci),Mt(Te,Mo,Oi),Te),Uf=E.SWAP={101:xi,100:Ci,99:Oi},Xf=E.A_START_CHAR="\xD0",$f=E.B_START_CHAR="\xD1",Wf=E.C_START_CHAR="\xD2",Qf=E.A_CHARS="[\0-_\xC8-\xCF]",Yf=E.B_CHARS="[ -\x7F\xC8-\xCF]",Kf=E.C_CHARS="(\xCF*[0-9]{2}\xCF*)",Jf=E.BARS=[11011001100,11001101100,11001100110,10010011e3,10010001100,10001001100,10011001e3,10011000100,10001100100,11001001e3,11001000100,11000100100,10110011100,10011011100,10011001110,10111001100,10011101100,10011100110,11001110010,11001011100,11001001110,11011100100,11001110100,11101101110,11101001100,11100101100,11100100110,11101100100,11100110100,11100110010,11011011e3,11011000110,11000110110,10100011e3,10001011e3,10001000110,10110001e3,10001101e3,10001100010,11010001e3,11000101e3,11000100010,10110111e3,10110001110,10001101110,10111011e3,10111000110,10001110110,11101110110,11010001110,11000101110,11011101e3,11011100010,11011101110,11101011e3,11101000110,11100010110,11101101e3,11101100010,11100011010,11101111010,11001000010,11110001010,1010011e4,10100001100,1001011e4,10010000110,10000101100,10000100110,1011001e4,10110000100,1001101e4,10011000010,10000110100,10000110010,11000010010,1100101e4,11110111010,11000010100,10001111010,10100111100,10010111100,10010011110,10111100100,10011110100,10011110010,11110100100,11110010100,11110010010,11011011110,11011110110,11110110110,10101111e3,10100011110,10001011110,10111101e3,10111100010,11110101e3,11110100010,10111011110,10111101110,11101011110,11110101110,11010000100,1101001e4,11010011100,1100011101011]});var Ie=m(Vt=>{"use strict";Object.defineProperty(Vt,"__esModule",{value:!0});var Vo=function(){function t(e,n){for(var i=0;i<n.length;i++){var r=n[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),Ao=k(),Bo=No(Ao),D=ve();function No(t){return t&&t.__esModule?t:{default:t}}function Fo(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Lo(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function qo(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var jo=function(t){qo(e,t);function e(n,i){Fo(this,e);var r=Lo(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,n.substring(1),i));return r.bytes=n.split("").map(function(l){return l.charCodeAt(0)}),r}return Vo(e,[{key:"valid",value:function(){return/^[\x00-\x7F\xC8-\xD3]+$/.test(this.data)}},{key:"encode",value:function(){var i=this.bytes,r=i.shift()-105,l=D.SET_BY_CODE[r];if(l===void 0)throw new RangeError("The encoding does not start with a start character.");this.shouldEncodeAsEan128()===!0&&i.unshift(D.FNC1);var u=e.next(i,1,l);return{text:this.text===this.data?this.text.replace(/[^\x20-\x7E]/g,""):this.text,data:e.getBar(r)+u.result+e.getBar((u.checksum+r)%D.MODULO)+e.getBar(D.STOP)}}},{key:"shouldEncodeAsEan128",value:function(){var i=this.options.ean128||!1;return typeof i=="string"&&(i=i.toLowerCase()==="true"),i}}],[{key:"getBar",value:function(i){return D.BARS[i]?D.BARS[i].toString():""}},{key:"correctIndex",value:function(i,r){if(r===D.SET_A){var l=i.shift();return l<32?l+64:l-32}else return r===D.SET_B?i.shift()-32:(i.shift()-48)*10+i.shift()-48}},{key:"next",value:function(i,r,l){if(!i.length)return{result:"",checksum:0};var u=void 0,s=void 0;if(i[0]>=200){s=i.shift()-105;var A=D.SWAP[s];A!==void 0?u=e.next(i,r+1,A):((l===D.SET_A||l===D.SET_B)&&s===D.SHIFT&&(i[0]=l===D.SET_A?i[0]>95?i[0]-96:i[0]:i[0]<32?i[0]+96:i[0]),u=e.next(i,r+1,l))}else s=e.correctIndex(i,l),u=e.next(i,r+1,l);var U=e.getBar(s),ro=s*r;return{result:U+u.result,checksum:ro+u.checksum}}}]),e}(Bo.default);Vt.default=jo});var Pi=m(Bt=>{"use strict";Object.defineProperty(Bt,"__esModule",{value:!0});var J=ve(),ki=function(e){return e.match(new RegExp("^"+J.A_CHARS+"*"))[0].length},Ti=function(e){return e.match(new RegExp("^"+J.B_CHARS+"*"))[0].length},Ii=function(e){return e.match(new RegExp("^"+J.C_CHARS+"*"))[0]};function At(t,e){var n=e?J.A_CHARS:J.B_CHARS,i=t.match(new RegExp("^("+n+"+?)(([0-9]{2}){2,})([^0-9]|$)"));if(i)return i[1]+"\xCC"+Ri(t.substring(i[1].length));var r=t.match(new RegExp("^"+n+"+"))[0];return r.length===t.length?t:r+String.fromCharCode(e?205:206)+At(t.substring(r.length),!e)}function Ri(t){var e=Ii(t),n=e.length;if(n===t.length)return t;t=t.substring(n);var i=ki(t)>=Ti(t);return e+String.fromCharCode(i?206:205)+At(t,i)}Bt.default=function(t){var e=void 0,n=Ii(t).length;if(n>=2)e=J.C_START_CHAR+Ri(t);else{var i=ki(t)>Ti(t);e=(i?J.A_START_CHAR:J.B_START_CHAR)+At(t,i)}return e.replace(/[\xCD\xCE]([^])[\xCD\xCE]/,function(r,l){return"\xCB"+l})}});var Mi=m(Ft=>{"use strict";Object.defineProperty(Ft,"__esModule",{value:!0});var Go=Ie(),Ho=Di(Go),zo=Pi(),Uo=Di(zo);function Di(t){return t&&t.__esModule?t:{default:t}}function Xo(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Nt(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function $o(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var Wo=function(t){$o(e,t);function e(n,i){if(Xo(this,e),/^[\x00-\x7F\xC8-\xD3]+$/.test(n))var r=Nt(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,(0,Uo.default)(n),i));else var r=Nt(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,n,i));return Nt(r)}return e}(Ho.default);Ft.default=Wo});var Ai=m(Lt=>{"use strict";Object.defineProperty(Lt,"__esModule",{value:!0});var Qo=function(){function t(e,n){for(var i=0;i<n.length;i++){var r=n[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),Yo=Ie(),Ko=Jo(Yo),Vi=ve();function Jo(t){return t&&t.__esModule?t:{default:t}}function Zo(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function ea(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function ta(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var na=function(t){ta(e,t);function e(n,i){return Zo(this,e),ea(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,Vi.A_START_CHAR+n,i))}return Qo(e,[{key:"valid",value:function(){return new RegExp("^"+Vi.A_CHARS+"+$").test(this.data)}}]),e}(Ko.default);Lt.default=na});var Ni=m(qt=>{"use strict";Object.defineProperty(qt,"__esModule",{value:!0});var ia=function(){function t(e,n){for(var i=0;i<n.length;i++){var r=n[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),ra=Ie(),oa=aa(ra),Bi=ve();function aa(t){return t&&t.__esModule?t:{default:t}}function la(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function ua(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function ca(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var sa=function(t){ca(e,t);function e(n,i){return la(this,e),ua(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,Bi.B_START_CHAR+n,i))}return ia(e,[{key:"valid",value:function(){return new RegExp("^"+Bi.B_CHARS+"+$").test(this.data)}}]),e}(oa.default);qt.default=sa});var Li=m(jt=>{"use strict";Object.defineProperty(jt,"__esModule",{value:!0});var fa=function(){function t(e,n){for(var i=0;i<n.length;i++){var r=n[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),da=Ie(),pa=ma(da),Fi=ve();function ma(t){return t&&t.__esModule?t:{default:t}}function _a(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function ha(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function va(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var ga=function(t){va(e,t);function e(n,i){return _a(this,e),ha(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,Fi.C_START_CHAR+n,i))}return fa(e,[{key:"valid",value:function(){return new RegExp("^"+Fi.C_CHARS+"+$").test(this.data)}}]),e}(pa.default);jt.default=ga});var qi=m(j=>{"use strict";Object.defineProperty(j,"__esModule",{value:!0});j.CODE128C=j.CODE128B=j.CODE128A=j.CODE128=void 0;var ya=Mi(),ba=_t(ya),Sa=Ai(),Ea=_t(Sa),wa=Ni(),xa=_t(wa),Ca=Li(),Oa=_t(Ca);function _t(t){return t&&t.__esModule?t:{default:t}}j.CODE128=ba.default;j.CODE128A=Ea.default;j.CODE128B=xa.default;j.CODE128C=Oa.default});var ge=m(Z=>{"use strict";Object.defineProperty(Z,"__esModule",{value:!0});var ld=Z.SIDE_BIN="101",ud=Z.MIDDLE_BIN="01010",cd=Z.BINARIES={L:["0001101","0011001","0010011","0111101","0100011","0110001","0101111","0111011","0110111","0001011"],G:["0100111","0110011","0011011","0100001","0011101","0111001","0000101","0010001","0001001","0010111"],R:["1110010","1100110","1101100","1000010","1011100","1001110","1010000","1000100","1001000","1110100"],O:["0001101","0011001","0010011","0111101","0100011","0110001","0101111","0111011","0110111","0001011"],E:["0100111","0110011","0011011","0100001","0011101","0111001","0000101","0010001","0001001","0010111"]},sd=Z.EAN2_STRUCTURE=["LL","LG","GL","GG"],fd=Z.EAN5_STRUCTURE=["GGLLL","GLGLL","GLLGL","GLLLG","LGGLL","LLGGL","LLLGG","LGLGL","LGLLG","LLGLG"],dd=Z.EAN13_STRUCTURE=["LLLLLL","LLGLGG","LLGGLG","LLGGGL","LGLLGG","LGGLLG","LGGGLL","LGLGLG","LGLGGL","LGGLGL"]});var ye=m(Gt=>{"use strict";Object.defineProperty(Gt,"__esModule",{value:!0});var ka=ge(),Ta=function(e,n,i){var r=e.split("").map(function(u,s){return ka.BINARIES[n[s]]}).map(function(u,s){return u?u[e[s]]:""});if(i){var l=e.length-1;r=r.map(function(u,s){return s<l?u+i:u})}return r.join("")};Gt.default=Ta});var zt=m(Ht=>{"use strict";Object.defineProperty(Ht,"__esModule",{value:!0});var Ia=function(){function t(e,n){for(var i=0;i<n.length;i++){var r=n[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),be=ge(),Ra=ye(),ji=Gi(Ra),Pa=k(),Da=Gi(Pa);function Gi(t){return t&&t.__esModule?t:{default:t}}function Ma(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Va(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function Aa(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var Ba=function(t){Aa(e,t);function e(n,i){Ma(this,e);var r=Va(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,n,i));return r.fontSize=!i.flat&&i.fontSize>i.width*10?i.width*10:i.fontSize,r.guardHeight=i.height+r.fontSize/2+i.textMargin,r}return Ia(e,[{key:"encode",value:function(){return this.options.flat?this.encodeFlat():this.encodeGuarded()}},{key:"leftText",value:function(i,r){return this.text.substr(i,r)}},{key:"leftEncode",value:function(i,r){return(0,ji.default)(i,r)}},{key:"rightText",value:function(i,r){return this.text.substr(i,r)}},{key:"rightEncode",value:function(i,r){return(0,ji.default)(i,r)}},{key:"encodeGuarded",value:function(){var i={fontSize:this.fontSize},r={height:this.guardHeight};return[{data:be.SIDE_BIN,options:r},{data:this.leftEncode(),text:this.leftText(),options:i},{data:be.MIDDLE_BIN,options:r},{data:this.rightEncode(),text:this.rightText(),options:i},{data:be.SIDE_BIN,options:r}]}},{key:"encodeFlat",value:function(){var i=[be.SIDE_BIN,this.leftEncode(),be.MIDDLE_BIN,this.rightEncode(),be.SIDE_BIN];return{data:i.join(""),text:this.text}}}]),e}(Da.default);Ht.default=Ba});var zi=m(Ut=>{"use strict";Object.defineProperty(Ut,"__esModule",{value:!0});var Na=function(){function t(e,n){for(var i=0;i<n.length;i++){var r=n[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),Re=function t(e,n,i){e===null&&(e=Function.prototype);var r=Object.getOwnPropertyDescriptor(e,n);if(r===void 0){var l=Object.getPrototypeOf(e);return l===null?void 0:t(l,n,i)}else{if("value"in r)return r.value;var u=r.get;return u===void 0?void 0:u.call(i)}},Fa=ge(),La=zt(),qa=ja(La);function ja(t){return t&&t.__esModule?t:{default:t}}function Ga(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Ha(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function za(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var Hi=function(e){var n=e.substr(0,12).split("").map(function(i){return+i}).reduce(function(i,r,l){return l%2?i+r*3:i+r},0);return(10-n%10)%10},Ua=function(t){za(e,t);function e(n,i){Ga(this,e),n.search(/^[0-9]{12}$/)!==-1&&(n+=Hi(n));var r=Ha(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,n,i));return r.lastChar=i.lastChar,r}return Na(e,[{key:"valid",value:function(){return this.data.search(/^[0-9]{13}$/)!==-1&&+this.data[12]===Hi(this.data)}},{key:"leftText",value:function(){return Re(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"leftText",this).call(this,1,6)}},{key:"leftEncode",value:function(){var i=this.data.substr(1,6),r=Fa.EAN13_STRUCTURE[this.data[0]];return Re(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"leftEncode",this).call(this,i,r)}},{key:"rightText",value:function(){return Re(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"rightText",this).call(this,7,6)}},{key:"rightEncode",value:function(){var i=this.data.substr(7,6);return Re(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"rightEncode",this).call(this,i,"RRRRRR")}},{key:"encodeGuarded",value:function(){var i=Re(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"encodeGuarded",this).call(this);return this.options.displayValue&&(i.unshift({data:"000000000000",text:this.text.substr(0,1),options:{textAlign:"left",fontSize:this.fontSize}}),this.options.lastChar&&(i.push({data:"00"}),i.push({data:"00000",text:this.options.lastChar,options:{fontSize:this.fontSize}}))),i}}]),e}(qa.default);Ut.default=Ua});var Xi=m(Xt=>{"use strict";Object.defineProperty(Xt,"__esModule",{value:!0});var Xa=function(){function t(e,n){for(var i=0;i<n.length;i++){var r=n[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),ht=function t(e,n,i){e===null&&(e=Function.prototype);var r=Object.getOwnPropertyDescriptor(e,n);if(r===void 0){var l=Object.getPrototypeOf(e);return l===null?void 0:t(l,n,i)}else{if("value"in r)return r.value;var u=r.get;return u===void 0?void 0:u.call(i)}},$a=zt(),Wa=Qa($a);function Qa(t){return t&&t.__esModule?t:{default:t}}function Ya(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Ka(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function Ja(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var Ui=function(e){var n=e.substr(0,7).split("").map(function(i){return+i}).reduce(function(i,r,l){return l%2?i+r:i+r*3},0);return(10-n%10)%10},Za=function(t){Ja(e,t);function e(n,i){return Ya(this,e),n.search(/^[0-9]{7}$/)!==-1&&(n+=Ui(n)),Ka(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,n,i))}return Xa(e,[{key:"valid",value:function(){return this.data.search(/^[0-9]{8}$/)!==-1&&+this.data[7]===Ui(this.data)}},{key:"leftText",value:function(){return ht(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"leftText",this).call(this,0,4)}},{key:"leftEncode",value:function(){var i=this.data.substr(0,4);return ht(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"leftEncode",this).call(this,i,"LLLL")}},{key:"rightText",value:function(){return ht(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"rightText",this).call(this,4,4)}},{key:"rightEncode",value:function(){var i=this.data.substr(4,4);return ht(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"rightEncode",this).call(this,i,"RRRR")}}]),e}(Wa.default);Xt.default=Za});var Wi=m($t=>{"use strict";Object.defineProperty($t,"__esModule",{value:!0});var el=function(){function t(e,n){for(var i=0;i<n.length;i++){var r=n[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),tl=ge(),nl=ye(),il=$i(nl),rl=k(),ol=$i(rl);function $i(t){return t&&t.__esModule?t:{default:t}}function al(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function ll(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function ul(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var cl=function(e){var n=e.split("").map(function(i){return+i}).reduce(function(i,r,l){return l%2?i+r*9:i+r*3},0);return n%10},sl=function(t){ul(e,t);function e(n,i){return al(this,e),ll(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,n,i))}return el(e,[{key:"valid",value:function(){return this.data.search(/^[0-9]{5}$/)!==-1}},{key:"encode",value:function(){var i=tl.EAN5_STRUCTURE[cl(this.data)];return{data:"1011"+(0,il.default)(this.data,i,"01"),text:this.text}}}]),e}(ol.default);$t.default=sl});var Yi=m(Wt=>{"use strict";Object.defineProperty(Wt,"__esModule",{value:!0});var fl=function(){function t(e,n){for(var i=0;i<n.length;i++){var r=n[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),dl=ge(),pl=ye(),ml=Qi(pl),_l=k(),hl=Qi(_l);function Qi(t){return t&&t.__esModule?t:{default:t}}function vl(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function gl(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function yl(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var bl=function(t){yl(e,t);function e(n,i){return vl(this,e),gl(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,n,i))}return fl(e,[{key:"valid",value:function(){return this.data.search(/^[0-9]{2}$/)!==-1}},{key:"encode",value:function(){var i=dl.EAN2_STRUCTURE[parseInt(this.data)%4];return{data:"1011"+(0,ml.default)(this.data,i,"01"),text:this.text}}}]),e}(hl.default);Wt.default=bl});var Yt=m(vt=>{"use strict";Object.defineProperty(vt,"__esModule",{value:!0});var Sl=function(){function t(e,n){for(var i=0;i<n.length;i++){var r=n[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}();vt.checksum=Qt;var El=ye(),Se=Ki(El),wl=k(),xl=Ki(wl);function Ki(t){return t&&t.__esModule?t:{default:t}}function Cl(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Ol(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function kl(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var Tl=function(t){kl(e,t);function e(n,i){Cl(this,e),n.search(/^[0-9]{11}$/)!==-1&&(n+=Qt(n));var r=Ol(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,n,i));return r.displayValue=i.displayValue,i.fontSize>i.width*10?r.fontSize=i.width*10:r.fontSize=i.fontSize,r.guardHeight=i.height+r.fontSize/2+i.textMargin,r}return Sl(e,[{key:"valid",value:function(){return this.data.search(/^[0-9]{12}$/)!==-1&&this.data[11]==Qt(this.data)}},{key:"encode",value:function(){return this.options.flat?this.flatEncoding():this.guardedEncoding()}},{key:"flatEncoding",value:function(){var i="";return i+="101",i+=(0,Se.default)(this.data.substr(0,6),"LLLLLL"),i+="01010",i+=(0,Se.default)(this.data.substr(6,6),"RRRRRR"),i+="101",{data:i,text:this.text}}},{key:"guardedEncoding",value:function(){var i=[];return this.displayValue&&i.push({data:"00000000",text:this.text.substr(0,1),options:{textAlign:"left",fontSize:this.fontSize}}),i.push({data:"101"+(0,Se.default)(this.data[0],"L"),options:{height:this.guardHeight}}),i.push({data:(0,Se.default)(this.data.substr(1,5),"LLLLL"),text:this.text.substr(1,5),options:{fontSize:this.fontSize}}),i.push({data:"01010",options:{height:this.guardHeight}}),i.push({data:(0,Se.default)(this.data.substr(6,5),"RRRRR"),text:this.text.substr(6,5),options:{fontSize:this.fontSize}}),i.push({data:(0,Se.default)(this.data[11],"R")+"101",options:{height:this.guardHeight}}),this.displayValue&&i.push({data:"00000000",text:this.text.substr(11,1),options:{textAlign:"right",fontSize:this.fontSize}}),i}}]),e}(xl.default);function Qt(t){var e=0,n;for(n=1;n<11;n+=2)e+=parseInt(t[n]);for(n=0;n<11;n+=2)e+=parseInt(t[n])*3;return(10-e%10)%10}vt.default=Tl});var er=m(Jt=>{"use strict";Object.defineProperty(Jt,"__esModule",{value:!0});var Il=function(){function t(e,n){for(var i=0;i<n.length;i++){var r=n[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),Rl=ye(),Pl=Zi(Rl),Dl=k(),Ml=Zi(Dl),Vl=Yt();function Zi(t){return t&&t.__esModule?t:{default:t}}function Al(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Kt(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function Bl(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var Nl=["XX00000XXX","XX10000XXX","XX20000XXX","XXX00000XX","XXXX00000X","XXXXX00005","XXXXX00006","XXXXX00007","XXXXX00008","XXXXX00009"],Fl=[["EEEOOO","OOOEEE"],["EEOEOO","OOEOEE"],["EEOOEO","OOEEOE"],["EEOOOE","OOEEEO"],["EOEEOO","OEOOEE"],["EOOEEO","OEEOOE"],["EOOOEE","OEEEOO"],["EOEOEO","OEOEOE"],["EOEOOE","OEOEEO"],["EOOEOE","OEEOEO"]],Ll=function(t){Bl(e,t);function e(n,i){Al(this,e);var r=Kt(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,n,i));if(r.isValid=!1,n.search(/^[0-9]{6}$/)!==-1)r.middleDigits=n,r.upcA=Ji(n,"0"),r.text=i.text||""+r.upcA[0]+n+r.upcA[r.upcA.length-1],r.isValid=!0;else if(n.search(/^[01][0-9]{7}$/)!==-1)if(r.middleDigits=n.substring(1,n.length-1),r.upcA=Ji(r.middleDigits,n[0]),r.upcA[r.upcA.length-1]===n[n.length-1])r.isValid=!0;else return Kt(r);else return Kt(r);return r.displayValue=i.displayValue,i.fontSize>i.width*10?r.fontSize=i.width*10:r.fontSize=i.fontSize,r.guardHeight=i.height+r.fontSize/2+i.textMargin,r}return Il(e,[{key:"valid",value:function(){return this.isValid}},{key:"encode",value:function(){return this.options.flat?this.flatEncoding():this.guardedEncoding()}},{key:"flatEncoding",value:function(){var i="";return i+="101",i+=this.encodeMiddleDigits(),i+="010101",{data:i,text:this.text}}},{key:"guardedEncoding",value:function(){var i=[];return this.displayValue&&i.push({data:"00000000",text:this.text[0],options:{textAlign:"left",fontSize:this.fontSize}}),i.push({data:"101",options:{height:this.guardHeight}}),i.push({data:this.encodeMiddleDigits(),text:this.text.substring(1,7),options:{fontSize:this.fontSize}}),i.push({data:"010101",options:{height:this.guardHeight}}),this.displayValue&&i.push({data:"00000000",text:this.text[7],options:{textAlign:"right",fontSize:this.fontSize}}),i}},{key:"encodeMiddleDigits",value:function(){var i=this.upcA[0],r=this.upcA[this.upcA.length-1],l=Fl[parseInt(r)][parseInt(i)];return(0,Pl.default)(this.middleDigits,l)}}]),e}(Ml.default);function Ji(t,e){for(var n=parseInt(t[t.length-1]),i=Nl[n],r="",l=0,u=0;u<i.length;u++){var s=i[u];s==="X"?r+=t[l++]:r+=s}return r=""+e+r,""+r+(0,Vl.checksum)(r)}Jt.default=Ll});var tr=m(T=>{"use strict";Object.defineProperty(T,"__esModule",{value:!0});T.UPCE=T.UPC=T.EAN2=T.EAN5=T.EAN8=T.EAN13=void 0;var ql=zi(),jl=Ee(ql),Gl=Xi(),Hl=Ee(Gl),zl=Wi(),Ul=Ee(zl),Xl=Yi(),$l=Ee(Xl),Wl=Yt(),Ql=Ee(Wl),Yl=er(),Kl=Ee(Yl);function Ee(t){return t&&t.__esModule?t:{default:t}}T.EAN13=jl.default;T.EAN8=Hl.default;T.EAN5=Ul.default;T.EAN2=$l.default;T.UPC=Ql.default;T.UPCE=Kl.default});var nr=m(Pe=>{"use strict";Object.defineProperty(Pe,"__esModule",{value:!0});var wd=Pe.START_BIN="1010",xd=Pe.END_BIN="11101",Cd=Pe.BINARIES=["00110","10001","01001","11000","00101","10100","01100","00011","10010","01010"]});var en=m(Zt=>{"use strict";Object.defineProperty(Zt,"__esModule",{value:!0});var Jl=function(){function t(e,n){for(var i=0;i<n.length;i++){var r=n[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),gt=nr(),Zl=k(),eu=tu(Zl);function tu(t){return t&&t.__esModule?t:{default:t}}function nu(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function iu(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function ru(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var ou=function(t){ru(e,t);function e(){return nu(this,e),iu(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return Jl(e,[{key:"valid",value:function(){return this.data.search(/^([0-9]{2})+$/)!==-1}},{key:"encode",value:function(){var i=this,r=this.data.match(/.{2}/g).map(function(l){return i.encodePair(l)}).join("");return{data:gt.START_BIN+r+gt.END_BIN,text:this.text}}},{key:"encodePair",value:function(i){var r=gt.BINARIES[i[1]];return gt.BINARIES[i[0]].split("").map(function(l,u){return(l==="1"?"111":"1")+(r[u]==="1"?"000":"0")}).join("")}}]),e}(eu.default);Zt.default=ou});var rr=m(tn=>{"use strict";Object.defineProperty(tn,"__esModule",{value:!0});var au=function(){function t(e,n){for(var i=0;i<n.length;i++){var r=n[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),lu=en(),uu=cu(lu);function cu(t){return t&&t.__esModule?t:{default:t}}function su(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function fu(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function du(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var ir=function(e){var n=e.substr(0,13).split("").map(function(i){return parseInt(i,10)}).reduce(function(i,r,l){return i+r*(3-l%2*2)},0);return Math.ceil(n/10)*10-n},pu=function(t){du(e,t);function e(n,i){return su(this,e),n.search(/^[0-9]{13}$/)!==-1&&(n+=ir(n)),fu(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,n,i))}return au(e,[{key:"valid",value:function(){return this.data.search(/^[0-9]{14}$/)!==-1&&+this.data[13]===ir(this.data)}}]),e}(uu.default);tn.default=pu});var ar=m(we=>{"use strict";Object.defineProperty(we,"__esModule",{value:!0});we.ITF14=we.ITF=void 0;var mu=en(),_u=or(mu),hu=rr(),vu=or(hu);function or(t){return t&&t.__esModule?t:{default:t}}we.ITF=_u.default;we.ITF14=vu.default});var xe=m(nn=>{"use strict";Object.defineProperty(nn,"__esModule",{value:!0});var gu=function(){function t(e,n){for(var i=0;i<n.length;i++){var r=n[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),yu=k(),bu=Su(yu);function Su(t){return t&&t.__esModule?t:{default:t}}function Eu(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function wu(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function xu(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var Cu=function(t){xu(e,t);function e(n,i){return Eu(this,e),wu(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,n,i))}return gu(e,[{key:"encode",value:function(){for(var i="110",r=0;r<this.data.length;r++){var l=parseInt(this.data[r]),u=l.toString(2);u=Ou(u,4-u.length);for(var s=0;s<u.length;s++)i+=u[s]=="0"?"100":"110"}return i+="1001",{data:i,text:this.text}}},{key:"valid",value:function(){return this.data.search(/^[0-9]+$/)!==-1}}]),e}(bu.default);function Ou(t,e){for(var n=0;n<e;n++)t="0"+t;return t}nn.default=Cu});var De=m(yt=>{"use strict";Object.defineProperty(yt,"__esModule",{value:!0});yt.mod10=ku;yt.mod11=Tu;function ku(t){for(var e=0,n=0;n<t.length;n++){var i=parseInt(t[n]);(n+t.length)%2===0?e+=i:e+=i*2%10+Math.floor(i*2/10)}return(10-e%10)%10}function Tu(t){for(var e=0,n=[2,3,4,5,6,7],i=0;i<t.length;i++){var r=parseInt(t[t.length-1-i]);e+=n[i%n.length]*r}return(11-e%11)%11}});var lr=m(rn=>{"use strict";Object.defineProperty(rn,"__esModule",{value:!0});var Iu=xe(),Ru=Du(Iu),Pu=De();function Du(t){return t&&t.__esModule?t:{default:t}}function Mu(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Vu(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function Au(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var Bu=function(t){Au(e,t);function e(n,i){return Mu(this,e),Vu(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,n+(0,Pu.mod10)(n),i))}return e}(Ru.default);rn.default=Bu});var ur=m(on=>{"use strict";Object.defineProperty(on,"__esModule",{value:!0});var Nu=xe(),Fu=qu(Nu),Lu=De();function qu(t){return t&&t.__esModule?t:{default:t}}function ju(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Gu(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function Hu(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var zu=function(t){Hu(e,t);function e(n,i){return ju(this,e),Gu(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,n+(0,Lu.mod11)(n),i))}return e}(Fu.default);on.default=zu});var sr=m(an=>{"use strict";Object.defineProperty(an,"__esModule",{value:!0});var Uu=xe(),Xu=$u(Uu),cr=De();function $u(t){return t&&t.__esModule?t:{default:t}}function Wu(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Qu(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function Yu(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var Ku=function(t){Yu(e,t);function e(n,i){return Wu(this,e),n+=(0,cr.mod10)(n),n+=(0,cr.mod10)(n),Qu(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,n,i))}return e}(Xu.default);an.default=Ku});var dr=m(ln=>{"use strict";Object.defineProperty(ln,"__esModule",{value:!0});var Ju=xe(),Zu=ec(Ju),fr=De();function ec(t){return t&&t.__esModule?t:{default:t}}function tc(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function nc(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function ic(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var rc=function(t){ic(e,t);function e(n,i){return tc(this,e),n+=(0,fr.mod11)(n),n+=(0,fr.mod10)(n),nc(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,n,i))}return e}(Zu.default);ln.default=rc});var pr=m(M=>{"use strict";Object.defineProperty(M,"__esModule",{value:!0});M.MSI1110=M.MSI1010=M.MSI11=M.MSI10=M.MSI=void 0;var oc=xe(),ac=Me(oc),lc=lr(),uc=Me(lc),cc=ur(),sc=Me(cc),fc=sr(),dc=Me(fc),pc=dr(),mc=Me(pc);function Me(t){return t&&t.__esModule?t:{default:t}}M.MSI=ac.default;M.MSI10=uc.default;M.MSI11=sc.default;M.MSI1010=dc.default;M.MSI1110=mc.default});var mr=m(bt=>{"use strict";Object.defineProperty(bt,"__esModule",{value:!0});bt.pharmacode=void 0;var _c=function(){function t(e,n){for(var i=0;i<n.length;i++){var r=n[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),hc=k(),vc=gc(hc);function gc(t){return t&&t.__esModule?t:{default:t}}function yc(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function bc(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function Sc(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var Ec=function(t){Sc(e,t);function e(n,i){yc(this,e);var r=bc(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,n,i));return r.number=parseInt(n,10),r}return _c(e,[{key:"encode",value:function(){for(var i=this.number,r="";!isNaN(i)&&i!=0;)i%2===0?(r="11100"+r,i=(i-2)/2):(r="100"+r,i=(i-1)/2);return r=r.slice(0,-2),{data:r,text:this.text}}},{key:"valid",value:function(){return this.number>=3&&this.number<=131070}}]),e}(vc.default);bt.pharmacode=Ec});var _r=m(St=>{"use strict";Object.defineProperty(St,"__esModule",{value:!0});St.codabar=void 0;var wc=function(){function t(e,n){for(var i=0;i<n.length;i++){var r=n[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),xc=k(),Cc=Oc(xc);function Oc(t){return t&&t.__esModule?t:{default:t}}function kc(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Tc(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function Ic(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var Rc=function(t){Ic(e,t);function e(n,i){kc(this,e),n.search(/^[0-9\-\$\:\.\+\/]+$/)===0&&(n="A"+n+"A");var r=Tc(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,n.toUpperCase(),i));return r.text=r.options.text||r.text.replace(/[A-D]/g,""),r}return wc(e,[{key:"valid",value:function(){return this.data.search(/^[A-D][0-9\-\$\:\.\+\/]+[A-D]$/)!==-1}},{key:"encode",value:function(){for(var i=[],r=this.getEncodings(),l=0;l<this.data.length;l++)i.push(r[this.data.charAt(l)]),l!==this.data.length-1&&i.push("0");return{text:this.text,data:i.join("")}}},{key:"getEncodings",value:function(){return{0:"101010011",1:"101011001",2:"101001011",3:"110010101",4:"101101001",5:"110101001",6:"100101011",7:"100101101",8:"100110101",9:"110100101","-":"101001101",$:"101100101",":":"1101011011","/":"1101101011",".":"1101101101","+":"1011011011",A:"1011001001",B:"1001001011",C:"1010010011",D:"1010011001"}}}]),e}(Cc.default);St.codabar=Rc});var hr=m(Ve=>{"use strict";Object.defineProperty(Ve,"__esModule",{value:!0});var Ld=Ve.SYMBOLS=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","-","."," ","$","/","+","%","($)","(%)","(/)","(+)","\xFF"],qd=Ve.BINARIES=["100010100","101001000","101000100","101000010","100101000","100100100","100100010","101010000","100010010","100001010","110101000","110100100","110100010","110010100","110010010","110001010","101101000","101100100","101100010","100110100","100011010","101011000","101001100","101000110","100101100","100010110","110110100","110110010","110101100","110100110","110010110","110011010","101101100","101100110","100110110","100111010","100101110","111010100","111010010","111001010","101101110","101110110","110101110","100100110","111011010","111010110","100110010","101011110"],jd=Ve.MULTI_SYMBOLS={"\0":["(%)","U"],"":["($)","A"],"":["($)","B"],"":["($)","C"],"":["($)","D"],"":["($)","E"],"":["($)","F"],"\x07":["($)","G"],"\b":["($)","H"],"	":["($)","I"],"\n":["($)","J"],"\v":["($)","K"],"\f":["($)","L"],"\r":["($)","M"],"":["($)","N"],"":["($)","O"],"":["($)","P"],"":["($)","Q"],"":["($)","R"],"":["($)","S"],"":["($)","T"],"":["($)","U"],"":["($)","V"],"":["($)","W"],"":["($)","X"],"":["($)","Y"],"":["($)","Z"],"\x1B":["(%)","A"],"":["(%)","B"],"":["(%)","C"],"":["(%)","D"],"":["(%)","E"],"!":["(/)","A"],'"':["(/)","B"],"#":["(/)","C"],"&":["(/)","F"],"'":["(/)","G"],"(":["(/)","H"],")":["(/)","I"],"*":["(/)","J"],",":["(/)","L"],":":["(/)","Z"],";":["(%)","F"],"<":["(%)","G"],"=":["(%)","H"],">":["(%)","I"],"?":["(%)","J"],"@":["(%)","V"],"[":["(%)","K"],"\\":["(%)","L"],"]":["(%)","M"],"^":["(%)","N"],_:["(%)","O"],"`":["(%)","W"],a:["(+)","A"],b:["(+)","B"],c:["(+)","C"],d:["(+)","D"],e:["(+)","E"],f:["(+)","F"],g:["(+)","G"],h:["(+)","H"],i:["(+)","I"],j:["(+)","J"],k:["(+)","K"],l:["(+)","L"],m:["(+)","M"],n:["(+)","N"],o:["(+)","O"],p:["(+)","P"],q:["(+)","Q"],r:["(+)","R"],s:["(+)","S"],t:["(+)","T"],u:["(+)","U"],v:["(+)","V"],w:["(+)","W"],x:["(+)","X"],y:["(+)","Y"],z:["(+)","Z"],"{":["(%)","P"],"|":["(%)","Q"],"}":["(%)","R"],"~":["(%)","S"],"\x7F":["(%)","T"]}});var cn=m(un=>{"use strict";Object.defineProperty(un,"__esModule",{value:!0});var Pc=function(){function t(e,n){for(var i=0;i<n.length;i++){var r=n[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),Et=hr(),Dc=k(),Mc=Vc(Dc);function Vc(t){return t&&t.__esModule?t:{default:t}}function Ac(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Bc(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function Nc(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var Fc=function(t){Nc(e,t);function e(n,i){return Ac(this,e),Bc(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,n,i))}return Pc(e,[{key:"valid",value:function(){return/^[0-9A-Z\-. $/+%]+$/.test(this.data)}},{key:"encode",value:function(){var i=this.data.split("").flatMap(function(s){return Et.MULTI_SYMBOLS[s]||s}),r=i.map(function(s){return e.getEncoding(s)}).join(""),l=e.checksum(i,20),u=e.checksum(i.concat(l),15);return{text:this.text,data:e.getEncoding("\xFF")+r+e.getEncoding(l)+e.getEncoding(u)+e.getEncoding("\xFF")+"1"}}}],[{key:"getEncoding",value:function(i){return Et.BINARIES[e.symbolValue(i)]}},{key:"getSymbol",value:function(i){return Et.SYMBOLS[i]}},{key:"symbolValue",value:function(i){return Et.SYMBOLS.indexOf(i)}},{key:"checksum",value:function(i,r){var l=i.slice().reverse().reduce(function(u,s,A){var U=A%r+1;return u+e.symbolValue(s)*U},0);return e.getSymbol(l%47)}}]),e}(Mc.default);un.default=Fc});var vr=m(sn=>{"use strict";Object.defineProperty(sn,"__esModule",{value:!0});var Lc=function(){function t(e,n){for(var i=0;i<n.length;i++){var r=n[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),qc=cn(),jc=Gc(qc);function Gc(t){return t&&t.__esModule?t:{default:t}}function Hc(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function zc(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function Uc(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var Xc=function(t){Uc(e,t);function e(n,i){return Hc(this,e),zc(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,n,i))}return Lc(e,[{key:"valid",value:function(){return/^[\x00-\x7f]+$/.test(this.data)}}]),e}(jc.default);sn.default=Xc});var yr=m(Ce=>{"use strict";Object.defineProperty(Ce,"__esModule",{value:!0});Ce.CODE93FullASCII=Ce.CODE93=void 0;var $c=cn(),Wc=gr($c),Qc=vr(),Yc=gr(Qc);function gr(t){return t&&t.__esModule?t:{default:t}}Ce.CODE93=Wc.default;Ce.CODE93FullASCII=Yc.default});var br=m(wt=>{"use strict";Object.defineProperty(wt,"__esModule",{value:!0});wt.GenericBarcode=void 0;var Kc=function(){function t(e,n){for(var i=0;i<n.length;i++){var r=n[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),Jc=k(),Zc=es(Jc);function es(t){return t&&t.__esModule?t:{default:t}}function ts(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function ns(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function is(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var rs=function(t){is(e,t);function e(n,i){return ts(this,e),ns(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,n,i))}return Kc(e,[{key:"encode",value:function(){return{data:"10101010101010101010101010101010101010101",text:this.text}}},{key:"valid",value:function(){return!0}}]),e}(Zc.default);wt.GenericBarcode=rs});var wr=m(fn=>{"use strict";Object.defineProperty(fn,"__esModule",{value:!0});var os=wi(),xt=qi(),Oe=tr(),Sr=ar(),Ae=pr(),as=mr(),ls=_r(),Er=yr(),us=br();fn.default={CODE39:os.CODE39,CODE128:xt.CODE128,CODE128A:xt.CODE128A,CODE128B:xt.CODE128B,CODE128C:xt.CODE128C,EAN13:Oe.EAN13,EAN8:Oe.EAN8,EAN5:Oe.EAN5,EAN2:Oe.EAN2,UPC:Oe.UPC,UPCE:Oe.UPCE,ITF14:Sr.ITF14,ITF:Sr.ITF,MSI:Ae.MSI,MSI10:Ae.MSI10,MSI11:Ae.MSI11,MSI1010:Ae.MSI1010,MSI1110:Ae.MSI1110,pharmacode:as.pharmacode,codabar:ls.codabar,CODE93:Er.CODE93,CODE93FullASCII:Er.CODE93FullASCII,GenericBarcode:us.GenericBarcode}});var Be=m(dn=>{"use strict";Object.defineProperty(dn,"__esModule",{value:!0});var cs=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t};dn.default=function(t,e){return cs({},t,e)}});var xr=m(pn=>{"use strict";Object.defineProperty(pn,"__esModule",{value:!0});pn.default=ss;function ss(t){var e=[];function n(i){if(Array.isArray(i))for(var r=0;r<i.length;r++)n(i[r]);else i.text=i.text||"",i.data=i.data||"",e.push(i)}return n(t),e}});var Cr=m(mn=>{"use strict";Object.defineProperty(mn,"__esModule",{value:!0});mn.default=fs;function fs(t){return t.marginTop=t.marginTop||t.margin,t.marginBottom=t.marginBottom||t.margin,t.marginRight=t.marginRight||t.margin,t.marginLeft=t.marginLeft||t.margin,t}});var hn=m(_n=>{"use strict";Object.defineProperty(_n,"__esModule",{value:!0});_n.default=ds;function ds(t){var e=["width","height","textMargin","fontSize","margin","marginTop","marginBottom","marginLeft","marginRight"];for(var n in e)e.hasOwnProperty(n)&&(n=e[n],typeof t[n]=="string"&&(t[n]=parseInt(t[n],10)));return typeof t.displayValue=="string"&&(t.displayValue=t.displayValue!="false"),t}});var gn=m(vn=>{"use strict";Object.defineProperty(vn,"__esModule",{value:!0});var ps={width:2,height:100,format:"auto",displayValue:!0,fontOptions:"",font:"monospace",text:void 0,textAlign:"center",textPosition:"bottom",textMargin:2,fontSize:20,background:"#ffffff",lineColor:"#000000",margin:10,marginTop:void 0,marginBottom:void 0,marginLeft:void 0,marginRight:void 0,valid:function(){}};vn.default=ps});var Tr=m(yn=>{"use strict";Object.defineProperty(yn,"__esModule",{value:!0});var ms=hn(),_s=kr(ms),hs=gn(),Or=kr(hs);function kr(t){return t&&t.__esModule?t:{default:t}}function vs(t){var e={};for(var n in Or.default)Or.default.hasOwnProperty(n)&&(t.hasAttribute("jsbarcode-"+n.toLowerCase())&&(e[n]=t.getAttribute("jsbarcode-"+n.toLowerCase())),t.hasAttribute("data-"+n.toLowerCase())&&(e[n]=t.getAttribute("data-"+n.toLowerCase())));return e.value=t.getAttribute("jsbarcode-value")||t.getAttribute("data-value"),e=(0,_s.default)(e),e}yn.default=vs});var bn=m(V=>{"use strict";Object.defineProperty(V,"__esModule",{value:!0});V.getTotalWidthOfEncodings=V.calculateEncodingAttributes=V.getBarcodePadding=V.getEncodingHeight=V.getMaximumHeightOfEncodings=void 0;var gs=Be(),ys=bs(gs);function bs(t){return t&&t.__esModule?t:{default:t}}function Ir(t,e){return e.height+(e.displayValue&&t.text.length>0?e.fontSize+e.textMargin:0)+e.marginTop+e.marginBottom}function Rr(t,e,n){if(n.displayValue&&e<t){if(n.textAlign=="center")return Math.floor((t-e)/2);if(n.textAlign=="left")return 0;if(n.textAlign=="right")return Math.floor(t-e)}return 0}function Ss(t,e,n){for(var i=0;i<t.length;i++){var r=t[i],l=(0,ys.default)(e,r.options),u;l.displayValue?u=xs(r.text,l,n):u=0;var s=r.data.length*l.width;r.width=Math.ceil(Math.max(u,s)),r.height=Ir(r,l),r.barcodePadding=Rr(u,s,l)}}function Es(t){for(var e=0,n=0;n<t.length;n++)e+=t[n].width;return e}function ws(t){for(var e=0,n=0;n<t.length;n++)t[n].height>e&&(e=t[n].height);return e}function xs(t,e,n){var i;if(n)i=n;else if(typeof document<"u")i=document.createElement("canvas").getContext("2d");else return 0;i.font=e.fontOptions+" "+e.fontSize+"px "+e.font;var r=i.measureText(t);if(!r)return 0;var l=r.width;return l}V.getMaximumHeightOfEncodings=ws;V.getEncodingHeight=Ir;V.getBarcodePadding=Rr;V.calculateEncodingAttributes=Ss;V.getTotalWidthOfEncodings=Es});var Pr=m(En=>{"use strict";Object.defineProperty(En,"__esModule",{value:!0});var Cs=function(){function t(e,n){for(var i=0;i<n.length;i++){var r=n[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),Os=Be(),ks=Ts(Os),Sn=bn();function Ts(t){return t&&t.__esModule?t:{default:t}}function Is(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var Rs=function(){function t(e,n,i){Is(this,t),this.canvas=e,this.encodings=n,this.options=i}return Cs(t,[{key:"render",value:function(){if(!this.canvas.getContext)throw new Error("The browser does not support canvas.");this.prepareCanvas();for(var n=0;n<this.encodings.length;n++){var i=(0,ks.default)(this.options,this.encodings[n].options);this.drawCanvasBarcode(i,this.encodings[n]),this.drawCanvasText(i,this.encodings[n]),this.moveCanvasDrawing(this.encodings[n])}this.restoreCanvas()}},{key:"prepareCanvas",value:function(){var n=this.canvas.getContext("2d");n.save(),(0,Sn.calculateEncodingAttributes)(this.encodings,this.options,n);var i=(0,Sn.getTotalWidthOfEncodings)(this.encodings),r=(0,Sn.getMaximumHeightOfEncodings)(this.encodings);this.canvas.width=i+this.options.marginLeft+this.options.marginRight,this.canvas.height=r,n.clearRect(0,0,this.canvas.width,this.canvas.height),this.options.background&&(n.fillStyle=this.options.background,n.fillRect(0,0,this.canvas.width,this.canvas.height)),n.translate(this.options.marginLeft,0)}},{key:"drawCanvasBarcode",value:function(n,i){var r=this.canvas.getContext("2d"),l=i.data,u;n.textPosition=="top"?u=n.marginTop+n.fontSize+n.textMargin:u=n.marginTop,r.fillStyle=n.lineColor;for(var s=0;s<l.length;s++){var A=s*n.width+i.barcodePadding;l[s]==="1"?r.fillRect(A,u,n.width,n.height):l[s]&&r.fillRect(A,u,n.width,n.height*l[s])}}},{key:"drawCanvasText",value:function(n,i){var r=this.canvas.getContext("2d"),l=n.fontOptions+" "+n.fontSize+"px "+n.font;if(n.displayValue){var u,s;n.textPosition=="top"?s=n.marginTop+n.fontSize-n.textMargin:s=n.height+n.textMargin+n.marginTop+n.fontSize,r.font=l,n.textAlign=="left"||i.barcodePadding>0?(u=0,r.textAlign="left"):n.textAlign=="right"?(u=i.width-1,r.textAlign="right"):(u=i.width/2,r.textAlign="center"),r.fillText(i.text,u,s)}}},{key:"moveCanvasDrawing",value:function(n){var i=this.canvas.getContext("2d");i.translate(n.width,0)}},{key:"restoreCanvas",value:function(){var n=this.canvas.getContext("2d");n.restore()}}]),t}();En.default=Rs});var Dr=m(xn=>{"use strict";Object.defineProperty(xn,"__esModule",{value:!0});var Ps=function(){function t(e,n){for(var i=0;i<n.length;i++){var r=n[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),Ds=Be(),Ms=Vs(Ds),wn=bn();function Vs(t){return t&&t.__esModule?t:{default:t}}function As(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var Ct="http://www.w3.org/2000/svg",Bs=function(){function t(e,n,i){As(this,t),this.svg=e,this.encodings=n,this.options=i,this.document=i.xmlDocument||document}return Ps(t,[{key:"render",value:function(){var n=this.options.marginLeft;this.prepareSVG();for(var i=0;i<this.encodings.length;i++){var r=this.encodings[i],l=(0,Ms.default)(this.options,r.options),u=this.createGroup(n,l.marginTop,this.svg);this.setGroupOptions(u,l),this.drawSvgBarcode(u,l,r),this.drawSVGText(u,l,r),n+=r.width}}},{key:"prepareSVG",value:function(){for(;this.svg.firstChild;)this.svg.removeChild(this.svg.firstChild);(0,wn.calculateEncodingAttributes)(this.encodings,this.options);var n=(0,wn.getTotalWidthOfEncodings)(this.encodings),i=(0,wn.getMaximumHeightOfEncodings)(this.encodings),r=n+this.options.marginLeft+this.options.marginRight;this.setSvgAttributes(r,i),this.options.background&&this.drawRect(0,0,r,i,this.svg).setAttribute("style","fill:"+this.options.background+";")}},{key:"drawSvgBarcode",value:function(n,i,r){var l=r.data,u;i.textPosition=="top"?u=i.fontSize+i.textMargin:u=0;for(var s=0,A=0,U=0;U<l.length;U++)A=U*i.width+r.barcodePadding,l[U]==="1"?s++:s>0&&(this.drawRect(A-i.width*s,u,i.width*s,i.height,n),s=0);s>0&&this.drawRect(A-i.width*(s-1),u,i.width*s,i.height,n)}},{key:"drawSVGText",value:function(n,i,r){var l=this.document.createElementNS(Ct,"text");if(i.displayValue){var u,s;l.setAttribute("style","font:"+i.fontOptions+" "+i.fontSize+"px "+i.font),i.textPosition=="top"?s=i.fontSize-i.textMargin:s=i.height+i.textMargin+i.fontSize,i.textAlign=="left"||r.barcodePadding>0?(u=0,l.setAttribute("text-anchor","start")):i.textAlign=="right"?(u=r.width-1,l.setAttribute("text-anchor","end")):(u=r.width/2,l.setAttribute("text-anchor","middle")),l.setAttribute("x",u),l.setAttribute("y",s),l.appendChild(this.document.createTextNode(r.text)),n.appendChild(l)}}},{key:"setSvgAttributes",value:function(n,i){var r=this.svg;r.setAttribute("width",n+"px"),r.setAttribute("height",i+"px"),r.setAttribute("x","0px"),r.setAttribute("y","0px"),r.setAttribute("viewBox","0 0 "+n+" "+i),r.setAttribute("xmlns",Ct),r.setAttribute("version","1.1"),r.setAttribute("style","transform: translate(0,0)")}},{key:"createGroup",value:function(n,i,r){var l=this.document.createElementNS(Ct,"g");return l.setAttribute("transform","translate("+n+", "+i+")"),r.appendChild(l),l}},{key:"setGroupOptions",value:function(n,i){n.setAttribute("style","fill:"+i.lineColor+";")}},{key:"drawRect",value:function(n,i,r,l,u){var s=this.document.createElementNS(Ct,"rect");return s.setAttribute("x",n),s.setAttribute("y",i),s.setAttribute("width",r),s.setAttribute("height",l),u.appendChild(s),s}}]),t}();xn.default=Bs});var Mr=m(Cn=>{"use strict";Object.defineProperty(Cn,"__esModule",{value:!0});var Ns=function(){function t(e,n){for(var i=0;i<n.length;i++){var r=n[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}();function Fs(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var Ls=function(){function t(e,n,i){Fs(this,t),this.object=e,this.encodings=n,this.options=i}return Ns(t,[{key:"render",value:function(){this.object.encodings=this.encodings}}]),t}();Cn.default=Ls});var Vr=m(kn=>{"use strict";Object.defineProperty(kn,"__esModule",{value:!0});var qs=Pr(),js=On(qs),Gs=Dr(),Hs=On(Gs),zs=Mr(),Us=On(zs);function On(t){return t&&t.__esModule?t:{default:t}}kn.default={CanvasRenderer:js.default,SVGRenderer:Hs.default,ObjectRenderer:Us.default}});var Pn=m(Ne=>{"use strict";Object.defineProperty(Ne,"__esModule",{value:!0});function Tn(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function In(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function Rn(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var Xs=function(t){Rn(e,t);function e(n,i){Tn(this,e);var r=In(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return r.name="InvalidInputException",r.symbology=n,r.input=i,r.message='"'+r.input+'" is not a valid input for '+r.symbology,r}return e}(Error),$s=function(t){Rn(e,t);function e(){Tn(this,e);var n=In(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return n.name="InvalidElementException",n.message="Not supported type to render on",n}return e}(Error),Ws=function(t){Rn(e,t);function e(){Tn(this,e);var n=In(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return n.name="NoElementException",n.message="No element to render on.",n}return e}(Error);Ne.InvalidInputException=Xs;Ne.InvalidElementException=$s;Ne.NoElementException=Ws});var Br=m(Vn=>{"use strict";Object.defineProperty(Vn,"__esModule",{value:!0});var Qs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ys=Tr(),Dn=Ar(Ys),Ks=Vr(),Fe=Ar(Ks),Js=Pn();function Ar(t){return t&&t.__esModule?t:{default:t}}function Mn(t){if(typeof t=="string")return Zs(t);if(Array.isArray(t)){for(var e=[],n=0;n<t.length;n++)e.push(Mn(t[n]));return e}else{if(typeof HTMLCanvasElement<"u"&&t instanceof HTMLImageElement)return e0(t);if(t&&t.nodeName&&t.nodeName.toLowerCase()==="svg"||typeof SVGElement<"u"&&t instanceof SVGElement)return{element:t,options:(0,Dn.default)(t),renderer:Fe.default.SVGRenderer};if(typeof HTMLCanvasElement<"u"&&t instanceof HTMLCanvasElement)return{element:t,options:(0,Dn.default)(t),renderer:Fe.default.CanvasRenderer};if(t&&t.getContext)return{element:t,renderer:Fe.default.CanvasRenderer};if(t&&(typeof t>"u"?"undefined":Qs(t))==="object"&&!t.nodeName)return{element:t,renderer:Fe.default.ObjectRenderer};throw new Js.InvalidElementException}}function Zs(t){var e=document.querySelectorAll(t);if(e.length!==0){for(var n=[],i=0;i<e.length;i++)n.push(Mn(e[i]));return n}}function e0(t){var e=document.createElement("canvas");return{element:e,options:(0,Dn.default)(t),renderer:Fe.default.CanvasRenderer,afterRender:function(){t.setAttribute("src",e.toDataURL())}}}Vn.default=Mn});var Nr=m(An=>{"use strict";Object.defineProperty(An,"__esModule",{value:!0});var t0=function(){function t(e,n){for(var i=0;i<n.length;i++){var r=n[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}();function n0(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var i0=function(){function t(e){n0(this,t),this.api=e}return t0(t,[{key:"handleCatch",value:function(n){if(n.name==="InvalidInputException")if(this.api._options.valid!==this.api._defaults.valid)this.api._options.valid(!1);else throw n.message;else throw n;this.api.render=function(){}}},{key:"wrapBarcodeCall",value:function(n){try{var i=n.apply(void 0,arguments);return this.api._options.valid(!0),i}catch(r){return this.handleCatch(r),this.api}}}]),t}();An.default=i0});var Ur=m((up,zr)=>{"use strict";var r0=wr(),ae=ee(r0),o0=Be(),Le=ee(o0),a0=xr(),Lr=ee(a0),l0=Cr(),Fr=ee(l0),u0=Br(),c0=ee(u0),s0=hn(),f0=ee(s0),d0=Nr(),p0=ee(d0),qr=Pn(),m0=gn(),jr=ee(m0);function ee(t){return t&&t.__esModule?t:{default:t}}var z=function(){},Ot=function(e,n,i){var r=new z;if(typeof e>"u")throw Error("No element to render on was provided.");return r._renderProperties=(0,c0.default)(e),r._encodings=[],r._options=jr.default,r._errorHandler=new p0.default(r),typeof n<"u"&&(i=i||{},i.format||(i.format=Hr()),r.options(i)[i.format](n,i).render()),r};Ot.getModule=function(t){return ae.default[t]};for(Bn in ae.default)ae.default.hasOwnProperty(Bn)&&_0(ae.default,Bn);var Bn;function _0(t,e){z.prototype[e]=z.prototype[e.toUpperCase()]=z.prototype[e.toLowerCase()]=function(n,i){var r=this;return r._errorHandler.wrapBarcodeCall(function(){i.text=typeof i.text>"u"?void 0:""+i.text;var l=(0,Le.default)(r._options,i);l=(0,f0.default)(l);var u=t[e],s=Gr(n,u,l);return r._encodings.push(s),r})}}function Gr(t,e,n){t=""+t;var i=new e(t,n);if(!i.valid())throw new qr.InvalidInputException(i.constructor.name,t);var r=i.encode();r=(0,Lr.default)(r);for(var l=0;l<r.length;l++)r[l].options=(0,Le.default)(n,r[l].options);return r}function Hr(){return ae.default.CODE128?"CODE128":Object.keys(ae.default)[0]}z.prototype.options=function(t){return this._options=(0,Le.default)(this._options,t),this};z.prototype.blank=function(t){var e=new Array(t+1).join("0");return this._encodings.push({data:e}),this};z.prototype.init=function(){if(this._renderProperties){Array.isArray(this._renderProperties)||(this._renderProperties=[this._renderProperties]);var t;for(var e in this._renderProperties){t=this._renderProperties[e];var n=(0,Le.default)(this._options,t.options);n.format=="auto"&&(n.format=Hr()),this._errorHandler.wrapBarcodeCall(function(){var i=n.value,r=ae.default[n.format.toUpperCase()],l=Gr(i,r,n);Nn(t,l,n)})}}};z.prototype.render=function(){if(!this._renderProperties)throw new qr.NoElementException;if(Array.isArray(this._renderProperties))for(var t=0;t<this._renderProperties.length;t++)Nn(this._renderProperties[t],this._encodings,this._options);else Nn(this._renderProperties,this._encodings,this._options);return this};z.prototype._defaults=jr.default;function Nn(t,e,n){e=(0,Lr.default)(e);for(var i=0;i<e.length;i++)e[i].options=(0,Le.default)(n,e[i].options),(0,Fr.default)(e[i].options);(0,Fr.default)(n);var r=t.renderer,l=new r(t.element,e,n);l.render(),t.afterRender&&t.afterRender()}typeof window<"u"&&(window.JsBarcode=Ot);typeof jQuery<"u"&&(jQuery.fn.JsBarcode=function(t,e){var n=[];return jQuery(this).each(function(){n.push(this)}),Ot(n,t,e)});zr.exports=Ot});var ao=()=>({width:"80vw"}),lo=()=>({"1199px":"90vw","575px":"95vw"}),uo=()=>[10,15,50,100],co=()=>["product_name","barcode"];function so(t,e){t&1&&(a(0,"tr")(1,"th"),c(2,"Transaction #"),o(),a(3,"th"),c(4,"Datetime"),o(),a(5,"th"),c(6,"Type"),o(),a(7,"th"),c(8,"Quantity"),o(),a(9,"th"),c(10,"Balance"),o(),a(11,"th"),c(12,"Expiry Date"),o()())}function fo(t,e){if(t&1&&(a(0,"tr",8)(1,"td"),c(2),o(),a(3,"td"),c(4),o(),a(5,"td"),g(6,"p-tag",9),o(),a(7,"td"),c(8),o(),a(9,"td"),c(10),o(),a(11,"td"),c(12),o()()),t&2){let n=e.$implicit,i=p(2);d("pSelectableRow",n),f(2),x(n.transaction_notes||"---"),f(2),x(n.transaction_datetime),f(2),d("value",n.transaction_type)("severity",i.getSeverity(n.transaction_type)),f(2),x(n.quantity),f(2),x(n.balance),f(2),x(n.expiry_date||"---")}}function po(t,e){t&1&&(a(0,"tr")(1,"td",10),c(2,"No items yet!"),o()())}function mo(t,e){if(t&1&&(a(0,"p-table",4,0),y(2,so,13,0,"ng-template",5)(3,fo,13,8,"ng-template",6)(4,po,3,0,"ng-template",7),o()),t&2){let n=p();d("value",n.stockHistory())("paginator",!0)("rows",10)("showCurrentPageReport",!0)("rowsPerPageOptions",w(8,uo))("alwaysShowPaginator",!0)("globalFilterFields",w(9,co))("filterDelay",0)}}function _o(t,e){if(t&1){let n=b();a(0,"p-button",11),_("onClick",function(){h(n);let r=p();return v(r.closeDialog())}),o()}}var pt=(()=>{class t{constructor(){this.visible=!1,this.onClose=new Ge,this.stockService=S(K),this.stockHistory=this.stockService.stockHistory}closeDialog(){this.visible=!1,this.onClose.emit()}fetchProductHistory(){this.stockService.fetchStockHistory(this.product_id)}getSeverity(n){switch(n){case"SALE":return"danger";case"SUPPLY":return"success";case"RETURN":return"success";case"DELETE":return"success";case"DISPOSE":return"danger";case"ADD":return"success";case"REMOVE":return"danger";default:return"contrast"}}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275cmp=C({type:t,selectors:[["stock-transactions"]],inputs:{product_id:"product_id",visible:"visible"},outputs:{onClose:"onClose"},standalone:!0,features:[He],decls:3,vars:10,consts:[["dt2",""],["position","top","header","Transaction History","styleClass","p-fluid",3,"visibleChange","onHide","onShow","modal","visible","breakpoints","closeOnEscape","closable","maximizable"],["pTemplate","content"],["pTemplate","footer"],["styleClass","p-datatable-sm","dataKey","transaction_id","currentPageReportTemplate","Showing {first} to {last} of {totalRecords} records",3,"value","paginator","rows","showCurrentPageReport","rowsPerPageOptions","alwaysShowPaginator","globalFilterFields","filterDelay"],["pTemplate","header"],["pTemplate","body"],["pTemplate","emptymessage"],[3,"pSelectableRow"],[3,"value","severity"],["colspan","7"],["label","Cancel","icon","pi pi-times","severity","secondary","size","small",3,"onClick"]],template:function(i,r){i&1&&(a(0,"p-dialog",1),P("visibleChange",function(u){return R(r.visible,u)||(r.visible=u),u}),_("onHide",function(){return r.closeDialog()})("onShow",function(){return r.fetchProductHistory()}),y(1,mo,5,10,"ng-template",2)(2,_o,1,0,"ng-template",3),o()),i&2&&(B(w(8,ao)),d("modal",!0),I("visible",r.visible),d("breakpoints",w(9,lo))("closeOnEscape",!1)("closable",!0)("maximizable",!0))},dependencies:[de,q,F,se,L,rt,me,_e,di,fi]})}}return t})();var Yr=oo(Ur());var Xr=(()=>{class t{constructor(){this.el=S(Hn),this.onFocus=n=>{n.target.select()}}ngAfterViewInit(){let n=this.el.nativeElement;n instanceof HTMLInputElement||n instanceof HTMLTextAreaElement?this.inputEl=n:this.inputEl=n.querySelector("input, textarea"),this.inputEl&&this.inputEl.addEventListener("focus",this.onFocus)}ngOnDestroy(){this.inputEl&&this.inputEl.removeEventListener("focus",this.onFocus)}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275dir=qn({type:t,selectors:[["","autoSelect",""]],standalone:!0})}}return t})();var g0=["barcodePreview"],y0=()=>({width:"55vw"}),b0=()=>({"1199px":"85vw","575px":"90vw"});function S0(t,e){if(t&1&&(a(0,"h3",27),c(1),o()),t&2){let n=p(2);f(),G(" ",n.f.shortName.value," ")}}function E0(t,e){if(t&1&&(a(0,"h3",28),c(1),re(2,"currency"),o()),t&2){let n=p(2);f(),G(" ",oe(2,1,n.f.price.value)," ")}}function w0(t,e){if(t&1){let n=b();a(0,"form",4),_("ngSubmit",function(){h(n);let r=p();return v(r.submitPrint())}),a(1,"div",5)(2,"div",6)(3,"label",7),c(4,"Barcode"),o(),g(5,"input",8),o(),a(6,"div",6)(7,"label",9),c(8,"Short Name"),o(),g(9,"input",10),o(),a(10,"div",6)(11,"label",11),c(12,"Price"),o(),g(13,"p-inputNumber",12),o()(),a(14,"div",5)(15,"div",6)(16,"div",13),g(17,"p-inputSwitch",14),a(18,"label",15),c(19,"Display Barcode Value"),o()()(),a(20,"div",6)(21,"div",16),g(22,"p-inputSwitch",17),a(23,"label",18),c(24,"Show Name"),o()()(),a(25,"div",6)(26,"div",19),g(27,"p-inputSwitch",20),a(28,"label",21),c(29,"Show Price"),o()()()()(),a(30,"div",22)(31,"div",23)(32,"p-card")(33,"div",24),Gn(),g(34,"svg",null,0),o(),y(36,S0,2,1,"h3",25)(37,E0,3,3,"h3",26),o()()()}if(t&2){let n=p();d("formGroup",n.printForm),f(36),d("ngIf",n.f.showName.value),f(),d("ngIf",n.f.showPrice.value)}}function x0(t,e){if(t&1){let n=b();a(0,"p-button",29),_("onClick",function(){h(n);let r=p();return v(r.closePrintDialog())}),o(),a(1,"p-button",30),_("onClick",function(){h(n);let r=p();return v(r.submitPrint())}),o()}}var kt=(()=>{class t{constructor(){this.printService=S(lt),this.fb=S(ce),this.visible=!1,this.printData=null,this.visibleChange=new Ge,this.printForm=this.fb.group({barcode:[null,O.required],displayBarcodeValue:[!0,O.required],showName:[!1,O.required],shortName:[null],showPrice:[!0,O.required],price:[null]})}ngOnInit(){this.printForm.valueChanges.subscribe(()=>{this.updateBarcode()})}ngOnChanges(n){n.visible&&this.visible&&(this.printForm.patchValue(this.printData),setTimeout(()=>{this.updateBarcode()},10))}updateBarcode(){let n=this.printForm.get("barcode")?.value||"",i=this.printForm.get("displayBarcodeValue")?.value;this.barcodePreview?.nativeElement&&(0,Yr.default)(this.barcodePreview.nativeElement,n||" ",{format:"CODE128",lineColor:"#000000",fontSize:14,displayValue:i,height:60,width:1.5})}get f(){return this.printForm.controls}select(n){n.select()}closePrintDialog(){this.visibleChange.emit(!1)}submitPrint(){if(this.printForm.valid){let n={printerName:"XP-365B",barcode:this.f.barcode.value,displayBarcodeValue:this.f.displayBarcodeValue.value,shortName:this.f.showName.value?this.f.shortName.value:null,price:this.f.showPrice.value?this.f.price.value:null};this.printService.labelPrint(n),this.closePrintDialog()}}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275cmp=C({type:t,selectors:[["label-print"]],viewQuery:function(i,r){if(i&1&&te(g0,5),i&2){let l;ne(l=ie())&&(r.barcodePreview=l.first)}},inputs:{visible:"visible",printData:"printData"},outputs:{visibleChange:"visibleChange"},standalone:!0,features:[jn,He],decls:3,vars:9,consts:[["barcodePreview",""],["position","top","header","Label Print Form","styleClass","p-fluid",3,"visibleChange","onHide","visible","modal","breakpoints","closable","maximizable"],["pTemplate","content"],["pTemplate","footer"],[3,"ngSubmit","formGroup"],[1,"formgrid","grid"],[1,"field","col-4"],["for","barcode"],["autoSelect","","id","barcode","placeholder","Barcode","pInputText","","spellcheck","false","formControlName","barcode","required","",1,"w-full","p-inputtext-sm"],["for","shortName"],["autoSelect","","id","shortName","type","text","pInputText","","formControlName","shortName","spellcheck","false",1,"w-full","p-inputtext-sm"],["for","price"],["autoSelect","","id","price","styleClass","w-full","formControlName","price","inputId","currency-us","mode","currency","currency","USD","locale","en-US",1,"p-inputtext-sm","w-full"],[1,"flex","align-items-center","justify-content-start","gap-2"],["id","displayBarcodeValue","formControlName","displayBarcodeValue"],["for","displayBarcodeValue"],[1,"flex","align-items-center","justify-content-center","gap-2"],["id","showName","formControlName","showName"],["for","showName"],[1,"flex","align-items-center","justify-content-end","gap-2"],["id","showPrice","formControlName","showPrice"],["for","showPrice"],[1,"grid","mb-2"],[1,"col-4","col-offset-4"],[1,"flex","justify-content-center"],["class","text-center mt-0 mb-1 font-bold text-black",4,"ngIf"],["class","text-center m-0 font-bold text-black",4,"ngIf"],[1,"text-center","mt-0","mb-1","font-bold","text-black"],[1,"text-center","m-0","font-bold","text-black"],["label","Cancel","icon","pi pi-times","severity","secondary","size","small",3,"onClick"],["label","Print","type","submit","icon","pi pi-print","severity","contrast","size","small",3,"onClick"]],template:function(i,r){i&1&&(a(0,"p-dialog",1),P("visibleChange",function(u){return R(r.visible,u)||(r.visible=u),u}),_("onHide",function(){return r.closePrintDialog()}),y(1,w0,38,3,"ng-template",2)(2,x0,2,0,"ng-template",3),o()),i&2&&(B(w(7,y0)),I("visible",r.visible),d("modal",!0)("breakpoints",w(8,b0))("closable",!1)("maximizable",!0))},dependencies:[Ye,W,ue,X,$,Jn,Q,Y,$e,Ue,Xe,de,q,F,se,L,et,fe,it,pe,nt,ot,Je,Ke,ct,ut,Xr]})}}return t})();var k0=["tableSearch"],T0=["barcodeInput"],I0=["itemName"],R0=["dt2"],P0=()=>[10,15,50,100],D0=()=>["product_name","barcode"],le=t=>({"ng-invalid ng-dirty":t}),M0=()=>({width:"65vw"});function V0(t,e){if(t&1){let n=b();a(0,"span",45),g(1,"i",46),a(2,"input",47,3),_("input",function(r){h(n),p();let l=It(8);return v(l.filterGlobal(r.target.value,"contains"))}),o()(),a(4,"p-button",48),_("onClick",function(){h(n);let r=p();return v(r.printStock())}),o(),a(5,"p-button",49),_("onClick",function(){h(n);let r=p();return v(r.refreshTable())}),o(),a(6,"p-button",50),_("onClick",function(){h(n);let r=p();return v(r.openItemDialog("add"))}),o()}if(t&2){let n=p(),i=It(8);f(2),d("value",i.filters.global==null?null:i.filters.global.value),f(3),d("loading",n.tableLoading())}}function A0(t,e){if(t&1){let n=b();a(0,"p-button",51),_("onClick",function(){h(n);let r=p();return v(r.openStockDialog())}),o(),a(1,"p-button",52),_("onClick",function(){h(n);let r=p();return v(r.fetchHistory())}),o(),a(2,"p-button",53),_("onClick",function(){h(n);let r=p();return v(r.openLabelPrint())}),o()}if(t&2){let n=p();d("disabled",!n.selectedItem||n.selectedItem.stock_management==0),f(),d("disabled",!n.selectedItem)("loading",n.historyLoading()),f(),d("disabled",!n.selectedItem||n.selectedItem.barcode=="")}}function B0(t,e){if(t&1){let n=b();a(0,"p-button",54),_("onClick",function(){h(n);let r=p();return v(r.openItemDialog("edit"))}),o(),a(1,"p-button",55),_("onClick",function(){h(n);let r=p();return v(r.deleteSelectedItem())}),o()}if(t&2){let n=p();d("disabled",!n.selectedItem),f(),d("disabled",!n.selectedItem)}}function N0(t,e){t&1&&(a(0,"th",67),c(1," Cost "),o())}function F0(t,e){if(t&1&&(a(0,"tr")(1,"th"),c(2,"Exp Dates"),o(),a(3,"th",56),c(4,"Barcode"),o(),a(5,"th",57),c(6," Description "),g(7,"p-sortIcon",58),o(),a(8,"th",56),c(9,"Exp Date"),o(),a(10,"th",59),c(11," Category "),g(12,"p-sortIcon",60),o(),a(13,"th",61),c(14," Group "),g(15,"p-sortIcon",62),o(),a(16,"th",63),c(17," Qty "),g(18,"p-sortIcon",64),o(),y(19,N0,2,0,"th",65),a(20,"th",66),c(21,"Price"),o()()),t&2){let n=p();f(19),d("ngIf",n.userPermissions().show_cost)}}function L0(t,e){if(t&1&&g(0,"p-button",71),t&2){let n=p(),i=n.$implicit,r=n.expanded;d("severity",r?"danger":"success")("pRowToggler",i)("icon",r?"pi pi-minus":"pi pi-plus")}}function q0(t,e){if(t&1&&(a(0,"td"),c(1),re(2,"currency"),o()),t&2){let n=p().$implicit;f(),G(" ",oe(2,1,n.unit_cost_usd)," ")}}function j0(t,e){if(t&1&&(a(0,"tr",68)(1,"td"),y(2,L0,1,3,"p-button",69),o(),a(3,"td"),c(4),o(),a(5,"td"),c(6),o(),a(7,"td"),c(8),o(),a(9,"td"),c(10),o(),a(11,"td"),c(12),o(),a(13,"td"),c(14),o(),y(15,q0,3,3,"td",70),a(16,"td"),c(17),re(18,"currency"),o()()),t&2){let n=e.$implicit,i=p();d("pSelectableRow",n),f(2),d("ngIf",n.has_variants),f(2),x(n.barcode||"---"),f(2),x(n.product_name),f(2),G(" ",n.variants_records&&n.variants_records.length==1?n.variants_records[0].expiry_date:"---"," "),f(2),x(n.category_name||"---"),f(2),x(n.group_name||"---"),f(2),G(" ",n.stock_management?n.quantity:"--"," "),f(),d("ngIf",i.userPermissions().show_cost),f(2),x(oe(18,10,n.unit_price_usd))}}function G0(t,e){if(t&1){let n=b();a(0,"p-button",75),_("onClick",function(){h(n);let r=p().$implicit,l=p();return v(l.openVariantsDialog("add",r))}),o()}}function H0(t,e){if(t&1){let n=b();a(0,"p-button",76),_("onClick",function(){h(n);let r=p().$implicit,l=p();return v(l.openVariantsDialog("edit",r))}),o(),a(1,"p-button",77),_("onClick",function(){h(n);let r=p(2);return v(r.deleteVariant())}),o()}if(t&2){let n=p(2);d("disabled",!n.selectedVariant),f(),d("disabled",!n.selectedVariant)}}function z0(t,e){t&1&&(a(0,"tr")(1,"th"),c(2,"Expiry Date"),o(),a(3,"th"),c(4,"Quantity"),o()())}function U0(t,e){if(t&1&&(a(0,"tr",68)(1,"td"),c(2),o(),a(3,"td"),c(4),o()()),t&2){let n=e.$implicit;d("pSelectableRow",n),f(2),x(n.expiry_date),f(2),G(" ",n.variant_quantity," ")}}function X0(t,e){t&1&&(a(0,"tr")(1,"td",78),c(2," No Variants for this product yet! "),o()())}function $0(t,e){if(t&1){let n=b();a(0,"tr")(1,"td",72)(2,"div",73)(3,"p-toolbar"),y(4,G0,1,0,"ng-template",7)(5,H0,2,2,"ng-template",9),o(),a(6,"p-table",74,4),P("selectionChange",function(r){h(n);let l=p();return R(l.selectedVariant,r)||(l.selectedVariant=r),v(r)}),y(8,z0,5,0,"ng-template",11)(9,U0,5,3,"ng-template",12)(10,X0,3,0,"ng-template",14),o()()()()}if(t&2){let n=e.$implicit,i=p();f(6),d("value",n.variants_records),I("selection",i.selectedVariant)}}function W0(t,e){t&1&&(a(0,"tr")(1,"td",79),c(2,"No items yet!"),o()())}function Q0(t,e){if(t&1&&(a(0,"h3"),c(1),o()),t&2){let n=p();f(),G("",n.dialogMode," Items")}}function Y0(t,e){t&1&&(a(0,"small",80),c(1,"Barcode already exists!"),o())}function K0(t,e){if(t&1){let n=b();a(0,"div",81)(1,"p-button",82),_("onClick",function(){h(n);let r=p();return v(r.generateBarcode())}),o()()}t&2&&(f(),d("tabindex",-1))}function J0(t,e){t&1&&(a(0,"small",80),c(1,"Name is required."),o())}function Z0(t,e){t&1&&(a(0,"div",30)(1,"label",85),c(2,"Initial Qty"),o(),g(3,"p-inputNumber",87),o())}function ef(t,e){if(t&1&&(a(0,"div",30)(1,"label"),c(2,"enable expiry dates"),o(),g(3,"br"),a(4,"div",31),g(5,"p-checkbox",83),a(6,"label",84),c(7,"Enable"),o()()(),y(8,Z0,4,0,"div",34),a(9,"div",30)(10,"label",85),c(11,"Low Stock Threshold"),o(),g(12,"p-inputNumber",86),o()),t&2){let n=p();f(5),d("binary",!0),f(3),d("ngIf",n.dialogMode=="add")}}function tf(t,e){t&1&&(a(0,"small",80),c(1,"Cost is required."),o())}function nf(t,e){if(t&1&&(a(0,"div",30)(1,"label",88),c(2,"Unit Cost"),a(3,"span",26),c(4,"*"),o()(),g(5,"p-inputNumber",89),y(6,tf,2,0,"small",22),o()),t&2){let n=p();f(5),d("ngClass",N(2,le,n.unit_cost_usd.invalid&&(n.unit_cost_usd.dirty||n.unit_cost_usd.touched||n.submitted))),f(),d("ngIf",n.unit_cost_usd.invalid&&(n.unit_cost_usd.dirty||n.unit_cost_usd.touched||n.submitted))}}function rf(t,e){t&1&&(a(0,"small",80),c(1,"Price is required."),o())}function of(t,e){if(t&1){let n=b();a(0,"button",90),_("click",function(){h(n);let r=p();return v(r.submitItem())}),o(),a(1,"button",91),_("click",function(){h(n);let r=p();return v(r.closeItemDialog())}),o()}if(t&2){let n=p();d("loading",n.submitItemLoading())}}function af(t,e){if(t&1&&(a(0,"div",92)(1,"label"),c(2,"Expiry Date"),o(),g(3,"p-dropdown",97),o()),t&2){let n=p(2);f(3),d("autoOptionFocus",!1)("options",n.selectedItem==null?null:n.selectedItem.variants_records)}}function lf(t,e){if(t&1){let n=b();a(0,"form",16),_("ngSubmit",function(){h(n);let r=p();return v(r.submitStock())}),a(1,"div",17)(2,"div",92)(3,"label"),c(4,"Option"),a(5,"span",26),c(6,"*"),o()(),g(7,"p-dropdown",93),o(),a(8,"div",92)(9,"label"),c(10,"Quantity"),a(11,"span",26),c(12,"*"),o()(),g(13,"p-inputNumber",94),o(),y(14,af,4,2,"div",92),a(15,"div",95)(16,"label"),c(17,"Notes"),o(),g(18,"input",96),o()()()}if(t&2){let n=p();d("formGroup",n.stockForm),f(7),d("autoOptionFocus",!1)("options",n.transactionOptions)("ngClass",N(7,le,(n.transaction_type==null?null:n.transaction_type.invalid)&&((n.transaction_type==null?null:n.transaction_type.dirty)||(n.transaction_type==null?null:n.transaction_type.touched)||n.submitted))),f(6),d("ngClass",N(9,le,(n.quantity==null?null:n.quantity.invalid)&&((n.quantity==null?null:n.quantity.dirty)||(n.quantity==null?null:n.quantity.touched)||n.submitted))),f(),Tt(n.selectedItem!=null&&n.selectedItem.has_variants?14:-1),f(4),d("ngClass",N(11,le,(n.transaction_notes==null?null:n.transaction_notes.invalid)&&((n.transaction_notes==null?null:n.transaction_notes.dirty)||(n.transaction_notes==null?null:n.transaction_notes.touched)||n.submitted)))}}function uf(t,e){if(t&1){let n=b();a(0,"p-button",98),_("onClick",function(){h(n);let r=p();return v(r.toggleStockDialog())}),o(),a(1,"p-button",99),_("onClick",function(){h(n);let r=p();return v(r.submitStock())}),o()}}var Jr=(()=>{class t{constructor(){this.subscriptions=new Ln,this.barcodeError=!1,this.stockService=S(K),this.fb=S(ce),this.confirmationService=S(We),this.authService=S(Yn),this.variantsService=S(_i),this.notificationService=S(Qe),this.printService=S(lt),this.api=S(Qn),this.products=this.stockService.products,this.itemSidebarVisible=this.stockService.itemSidebarVisible,this.tableLoading=this.stockService.tableLoading,this.submitItemLoading=this.stockService.submitItemLoading,this.categories=this.stockService.categories,this.submitted=!1,this.userPermissions=this.authService.userPermissions,this.itemFormValues={stock_management:!0,has_variants:!0},this.itemForm=this.fb.group({product_id:[null],category_id_fk:[{value:null,disabled:!1}],product_name:[null,O.required],barcode:[null],unit_cost_usd:[null,O.required],unit_price_usd:[null,O.required],quantity:[null],product_notes:[null],low_stock_threshold:[null],stock_management:[this.itemFormValues.stock_management],has_variants:[this.itemFormValues.has_variants]}),this.stockDialogVisible=this.stockService.stockDialogVisible,this.transactionOptions=[{name:"Add",value:"ADD"},{name:"Remove",value:"REMOVE"}],this.stockForm=this.fb.group({product_id_fk:[null],transaction_type:[{value:null,disabled:!1},O.required],quantity:[null,O.required],variant_id:[null],transaction_notes:[null,O.required]}),this.historyDialogVisible=this.stockService.historyDialogVisible,this.historyLoading=this.stockService.historyLoading,this.variantsDialogVisible=!1,this.labelPrintDialogVisible=!1}onKeyDown(n){!this.itemSidebarVisible()&&!this.stockDialogVisible()&&!this.variantsDialogVisible&&!this.labelPrintDialogVisible&&this.tableSearch.nativeElement.focus()}ngOnInit(){this.subscriptions.add(this.stockService.barcodeError.subscribe(()=>{this.barcodeInput.nativeElement.select(),this.barcodeError=!0})),this.subscriptions.add(this.stockService.itemCreated.subscribe(()=>{this.resetDialog()}))}ngOnDestroy(){this.subscriptions.unsubscribe()}get category_id_fk(){return this.itemForm.get("category_id_fk")}get product_name(){return this.itemForm.get("product_name")}get unit_cost_usd(){return this.itemForm.get("unit_cost_usd")}get unit_price_usd(){return this.itemForm.get("unit_price_usd")}get stock_management(){return this.itemForm.get("stock_management")}get f(){return this.itemForm.controls}resetStockManagementFields(){this.itemForm.controls.quantity.reset(),this.itemForm.controls.low_stock_threshold.reset(),this.itemForm.controls.has_variants.reset()}focusInput(){this.barcodeInput.nativeElement.focus()}clearBarcode(){this.itemForm.patchValue({barcode:null})}openItemDialog(n){this.dialogMode=n,this.dialogMode=="add"?this.stockService.itemSidebarVisible.set(!0):this.dialogMode=="edit"&&(this.selectedItem.stock_management=this.selectedItem.stock_management==1,this.selectedItem.has_variants=this.selectedItem.has_variants==1,this.itemForm.patchValue(this.selectedItem),this.stockService.itemSidebarVisible.set(!0))}closeItemDialog(){this.stockService.itemSidebarVisible.set(!1)}resetDialog(){this.submitted=!1,this.itemForm.reset(this.itemFormValues)}submitItem(){this.submitted=!0,(!this.itemForm.controls.barcode.value||this.itemForm.controls.barcode.value==="")&&this.itemForm.patchValue({barcode:null}),this.dialogMode=="add"?this.itemForm.valid&&(this.itemForm.controls.has_variants.value||this.itemForm.patchValue({has_variants:!1}),this.stockService.createItem(this.itemForm.value),this.submitted=!1,this.focusInput()):this.itemForm.valid&&(this.stockService.updateItem(this.itemForm.value),this.selectedItem=null)}deleteSelectedItem(){this.confirmationService.confirm({key:"home",message:"Are you sure you want to delete selected item?",header:"Warning",icon:"pi pi-exclamation-triangle",acceptButtonStyleClass:"p-button-danger",rejectButtonStyleClass:"p-button-secondary",defaultFocus:"reject",accept:()=>{this.stockService.deleteItem(this.selectedItem),this.selectedItem=null}})}refreshTable(){this.stockService.getItems(),this.dt2.reset()}clearBarcodeError(){this.barcodeError=!1}get transaction_type(){return this.stockForm.get("transaction_type")}get quantity(){return this.stockForm.get("quantity")}get transaction_notes(){return this.stockForm.get("transaction_notes")}openStockDialog(){this.stockService.stockDialogVisible.set(!0)}toggleStockDialog(){this.stockService.stockDialogVisible.set(!1)}submitStock(){this.submitted=!0,this.stockForm.valid&&(this.stockForm.patchValue({product_id_fk:this.selectedItem?.product_id}),this.stockService.submitStock(this.stockForm.value))}resetStockDialog(){this.submitted=!1,this.stockForm.reset(),this.stockService.stockDialogVisible.set(!1)}fetchHistory(){this.stockService.fetchStockHistory(this.selectedItem.product_id)}closeHistoryDialog(){this.stockService.historyDialogVisible.set(!1)}openVariantsDialog(n,i,r){this.productExpanded=i,this.variantsDialogMode=n,n==="edit"||(this.selectedVariant=null),this.variantsDialogVisible=!0}variantSubmitted(n){this.selectedItem=n}closeVariantDialog(){this.variantsDialogVisible=!1,this.selectedVariant=null,this.productExpanded=null}deleteVariant(){this.selectedVariant.variant_quantity>0?this.notificationService.showInfo("Variant have items, empty it first","home"):this.confirmationService.confirm({key:"home",message:"Are you sure you want to delete selected variant?",header:"Warning",icon:"pi pi-exclamation-triangle",acceptButtonStyleClass:"p-button-danger",rejectButtonStyleClass:"p-button-secondary",defaultFocus:"reject",accept:()=>{this.variantsService.deleteVariant(this.selectedVariant),this.selectedVariant=null}})}printStock(){console.log(this.products());let n=Xn(()=>this.products().filter(i=>i.stock_management).sort((i,r)=>i.product_name.localeCompare(r.product_name)));console.log(n()),this.printService.printStock(this.products())}openLabelPrint(){let n=this.selectedItem;this.printData={barcode:n.barcode,shortName:n.product_name,price:n.unit_price_usd},this.labelPrintDialogVisible=!0}generateBarcode(){this.clearBarcodeError(),this.stockService.generateBarcode(),this.api.get("stock/generate-barcode").subscribe({next:n=>{this.itemForm.patchValue({barcode:n})}})}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275cmp=C({type:t,selectors:[["app-inventory"]],viewQuery:function(i,r){if(i&1&&(te(k0,5),te(T0,5),te(I0,5),te(R0,5)),i&2){let l;ne(l=ie())&&(r.tableSearch=l.first),ne(l=ie())&&(r.barcodeInput=l.first),ne(l=ie())&&(r.itemName=l.first),ne(l=ie())&&(r.dt2=l.first)}},hostBindings:function(i,r){i&1&&_("keydown",function(u){return r.onKeyDown(u)},!1,zn)},decls:68,vars:48,consts:[["dt2",""],["barcodeInput",""],["itemName",""],["tableSearch",""],["vt",""],[1,"grid","m-1"],[1,"col-12"],["pTemplate","left"],["pTemplate","center"],["pTemplate","right"],["styleClass","p-datatable-sm","selectionMode","single","dataKey","product_id","currentPageReportTemplate","Showing {first} to {last} of {totalRecords} records","scrollHeight","65vh","sortMode","multiple",3,"selectionChange","value","selection","paginator","rows","showCurrentPageReport","rowsPerPageOptions","alwaysShowPaginator","globalFilterFields","filterDelay","loading","scrollable"],["pTemplate","header"],["pTemplate","body"],["pTemplate","rowexpansion"],["pTemplate","emptymessage"],["position","right","styleClass","w-30rem",3,"visibleChange","onShow","onHide","visible"],[3,"ngSubmit","formGroup"],[1,"formgrid","grid"],[1,"field","col-9"],["for","barcode"],[1,"pi","pi-barcode"],["placeholder","Barcode ...","pInputText","","spellcheck","false","formControlName","barcode",1,"w-full","p-inputtext-sm",3,"input","ngClass"],["class","p-error",4,"ngIf"],["class","field col-3 flex align-items-end",4,"ngIf"],[1,"field","col-12"],["for","name"],[1,"text-red-600"],["placeholder","Product Name","id","name","pInputText","","formControlName","product_name","spellcheck","false",1,"w-full","p-inputtext-sm",3,"ngClass"],["for","Category"],["styleClass","p-inputtext-sm","scrollHeight","400px","appendTo","body","formControlName","category_id_fk","optionLabel","category_name","optionValue","category_id","placeholder","Select Category ...","filterBy","category_name",3,"autoOptionFocus","showClear","options","filter"],[1,"field","col-6"],[1,"flex","align-items-center","gap-1"],["formControlName","stock_management","inputId","stock_management",3,"onChange","binary"],["for","stock_management"],["class","field col-6",4,"ngIf"],["for","unit_price_usd"],["styleClass","w-full","formControlName","unit_price_usd","inputId","currency-us","mode","currency","currency","USD","locale","en-US",1,"p-inputtext-sm","w-full",3,"ngClass"],["for","product_notes"],["type","text","pInputText","","formControlName","product_notes","spellcheck","false",1,"w-full"],["pTemplate","footer"],["header","Stock Correction","styleClass","p-fluid","position","top",3,"onHide","visible","modal"],["pTemplate","content"],[3,"onClose","visible","product_id"],[3,"OnClose","OnSubmit","visible","dialog_mode","selected_product","selected_variant"],[3,"visibleChange","visible","printData"],[1,"p-input-icon-left"],[1,"pi","pi-search"],["pInputText","","type","search","placeholder","Search ...",1,"p-inputtext-sm",3,"input","value"],["label","Print","icon","pi pi-print","size","small","severity","contrast","styleClass","mx-2",3,"onClick"],["label","Refresh","icon","pi pi-refresh","size","small","styleClass","mx-2 ",3,"onClick","loading"],["label","New","icon","pi pi-plus","severity","success","size","small",3,"onClick"],["label","Correct Stock","size","small","severity","info","icon","pi pi-wrench",3,"onClick","disabled"],["label","History","size","small","severity","contrast","icon","pi pi-history","styleClass","ml-2",3,"onClick","disabled","loading"],["label","Print Labels","icon","pi pi-barcode","size","small","severity","help","styleClass","ml-2",3,"onClick","disabled"],["label","Edit","icon","pi pi-file-edit","size","small","severity","warning",3,"onClick","disabled"],["label","Delete","icon","pi pi-trash","size","small","severity","danger",1,"ml-2",3,"onClick","disabled"],["width","10%"],["width","35%","pSortableColumn","product_name"],["field","product_name"],["width","15%","pSortableColumn","category_name"],["field","category_name"],["width","15%","pSortableColumn","group_name"],["field","group_name"],["width","5%","pSortableColumn","quantity"],["field","quantity"],["width","7%",4,"ngIf"],["width","8%"],["width","7%"],[3,"pSelectableRow"],["type","button","size","small","pRipple","",3,"severity","pRowToggler","icon",4,"ngIf"],[4,"ngIf"],["type","button","size","small","pRipple","",3,"severity","pRowToggler","icon"],["colspan","8"],[1,"p-2"],["styleClass","p-datatable-sm p-datatable-gridlines","dataKey","variant_id","selectionMode","single",3,"selectionChange","value","selection"],["size","small","label","Add Date","severity","success","icon","pi pi-plus",3,"onClick"],["label","Edit Date","icon","pi pi-file-edit","size","small","severity","warning",3,"onClick","disabled"],["label","Delete Date","icon","pi pi-trash","size","small","severity","danger",1,"ml-2",3,"onClick","disabled"],["colspan","3"],["colspan","7"],[1,"p-error"],[1,"field","col-3","flex","align-items-end"],["label","Generate","severity","contrast",3,"onClick","tabindex"],["formControlName","has_variants","inputId","has_variants",3,"binary"],["for","has_variants"],["for","qty"],["styleClass","w-full","formControlName","low_stock_threshold","placeholder","low stock qty",1,"p-inputtext-sm","w-full"],["styleClass","w-full","formControlName","quantity","placeholder","Initial Qty",1,"p-inputtext-sm","w-full"],["for","unit_cost_usd"],["styleClass","w-full","formControlName","unit_cost_usd","inputId","currency-us","mode","currency","currency","USD","locale","en-US",1,"p-inputtext-sm","w-full",3,"ngClass"],["type","submit","pButton","","pRipple","","label","Save","icon","pi pi-check",1,"p-button-success","w-full","mb-3",3,"click","loading"],["pButton","","pRipple","","label","Close","icon","pi pi-times",1,"p-button-secondary","w-full",3,"click"],[1,"field","col-12","md:col-3"],["scrollHeight","400px","appendTo","body","formControlName","transaction_type","optionLabel","name","optionValue","value","placeholder","transaction type ...",3,"autoOptionFocus","options","ngClass"],["formControlName","quantity",3,"ngClass"],[1,"field","col-12","md:col-6"],["type","text","spellcheck","false","pInputText","","formControlName","transaction_notes",1,"w-full",3,"ngClass"],["scrollHeight","400px","appendTo","body","formControlName","variant_id","optionLabel","expiry_date","optionValue","variant_id","placeholder","From Date...",3,"autoOptionFocus","options"],["label","Cancel","icon","pi pi-times","severity","secondary","size","small",3,"onClick"],["label","Save","icon","pi pi-check","severity","success","size","small",3,"onClick"]],template:function(i,r){if(i&1){let l=b();a(0,"div",5)(1,"div",6)(2,"p-card")(3,"p-toolbar"),y(4,V0,7,2,"ng-template",7)(5,A0,3,4,"ng-template",8)(6,B0,2,2,"ng-template",9),o(),a(7,"p-table",10,0),P("selectionChange",function(s){return h(l),R(r.selectedItem,s)||(r.selectedItem=s),v(s)}),y(9,F0,22,1,"ng-template",11)(10,j0,19,12,"ng-template",12)(11,$0,11,2,"ng-template",13)(12,W0,3,0,"ng-template",14),o()()()(),a(13,"p-sidebar",15),P("visibleChange",function(s){return h(l),R(r.itemSidebarVisible,s)||(r.itemSidebarVisible=s),v(s)}),_("onShow",function(){return h(l),v(r.focusInput())})("onHide",function(){return h(l),v(r.resetDialog())}),y(14,Q0,2,1,"ng-template",11),a(15,"form",16),_("ngSubmit",function(){return h(l),v(r.submitItem())}),a(16,"div",17)(17,"div",18)(18,"label",19),c(19,"Barcode"),o(),a(20,"p-inputGroup")(21,"p-inputGroupAddon"),g(22,"i",20),o(),a(23,"input",21,1),_("input",function(){return h(l),v(r.clearBarcodeError())}),o()(),y(25,Y0,2,0,"small",22),o(),y(26,K0,2,1,"div",23),a(27,"div",24)(28,"label",25),c(29,"Product Name"),a(30,"span",26),c(31,"*"),o()(),g(32,"input",27,2),y(34,J0,2,0,"small",22),o(),a(35,"div",24)(36,"label",28),c(37,"Category"),o(),g(38,"p-dropdown",29),o(),a(39,"div",30)(40,"label"),c(41,"Stock Management"),o(),g(42,"br"),a(43,"div",31)(44,"p-checkbox",32),_("onChange",function(){return h(l),v(r.resetStockManagementFields())}),o(),a(45,"label",33),c(46,"Enable"),o()()(),y(47,ef,13,2),o(),a(48,"div",17),y(49,nf,7,4,"div",34),a(50,"div",30)(51,"label",35),c(52,"Unit price"),a(53,"span",26),c(54,"*"),o()(),g(55,"p-inputNumber",36),y(56,rf,2,0,"small",22),o(),a(57,"div",24)(58,"label",37),c(59,"Notes"),o(),g(60,"input",38),o()()(),y(61,of,2,1,"ng-template",39),o(),a(62,"p-dialog",40),_("onHide",function(){return h(l),v(r.resetStockDialog())}),y(63,lf,19,13,"ng-template",41)(64,uf,2,0,"ng-template",39),o(),a(65,"stock-transactions",42),_("onClose",function(){return h(l),v(r.closeHistoryDialog())}),o(),a(66,"variants-dialog",43),_("OnClose",function(){return h(l),v(r.closeVariantDialog())})("OnSubmit",function(s){return h(l),v(r.variantSubmitted(s))}),o(),a(67,"label-print",44),P("visibleChange",function(s){return h(l),R(r.labelPrintDialogVisible,s)||(r.labelPrintDialogVisible=s),v(s)}),o()}i&2&&(f(7),d("value",r.products()),I("selection",r.selectedItem),d("paginator",!0)("rows",10)("showCurrentPageReport",!0)("rowsPerPageOptions",w(39,P0))("alwaysShowPaginator",!0)("globalFilterFields",w(40,D0))("filterDelay",0)("loading",r.tableLoading())("scrollable",!0),f(6),I("visible",r.itemSidebarVisible),f(2),d("formGroup",r.itemForm),f(8),d("ngClass",N(41,le,r.barcodeError)),f(2),d("ngIf",r.barcodeError),f(),d("ngIf",!r.f.product_id.value||!(r.selectedItem!=null&&r.selectedItem.barcode)),f(6),d("ngClass",N(43,le,r.product_name.invalid&&(r.product_name.dirty||r.product_name.touched||r.submitted))),f(2),d("ngIf",r.product_name.invalid&&(r.product_name.dirty||r.product_name.touched||r.submitted)),f(4),d("autoOptionFocus",!1)("showClear",!0)("options",r.categories())("filter",!0),f(6),d("binary",!0),f(3),Tt(r.stock_management.value?47:-1),f(2),d("ngIf",r.userPermissions().show_cost),f(6),d("ngClass",N(45,le,r.unit_price_usd.invalid&&(r.unit_price_usd.dirty||r.unit_price_usd.touched||r.submitted))),f(),d("ngIf",r.unit_price_usd.invalid&&(r.unit_price_usd.dirty||r.unit_price_usd.touched||r.submitted)),f(6),B(w(47,M0)),d("visible",r.stockDialogVisible())("modal",!0),f(3),d("visible",r.historyDialogVisible())("product_id",r.selectedItem==null?null:r.selectedItem.product_id),f(),d("visible",r.variantsDialogVisible)("dialog_mode",r.variantsDialogMode)("selected_product",r.productExpanded)("selected_variant",r.selectedVariant),f(),I("visible",r.labelPrintDialogVisible),d("printData",r.printData))},dependencies:[ze,Ue,W,ue,X,$,Q,Y,me,F,ni,_e,ri,ii,he,Ze,L,q,tt,fe,pe,Ke,ui,hi,gi,pt,mi,at,kt,Xe],styles:["[_nghost-%COMP%]  .p-card-content{padding:0!important}[_nghost-%COMP%]  .p-toolbar{padding-top:.6rem!important;padding-bottom:.6rem!important}[_nghost-%COMP%]  .p-button.p-button-icon-only{height:2rem!important;width:1rem!important}"]})}}return t})();var Zr=(()=>{class t{static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275cmp=C({type:t,selectors:[["app-stock-home"]],decls:1,vars:0,template:function(i,r){i&1&&g(0,"router-outlet")},dependencies:[Wn]})}}return t})();var cf=()=>[10,15,50,100],sf=()=>({width:"35vw"}),ff=()=>({"1199px":"75vw","575px":"85vw"}),df=(t,e)=>({" pi-check-circle text-green-600":t,"pi-times-circle text-red-600":e}),pf=t=>({"ng-invalid ng-dirty":t});function mf(t,e){if(t&1){let n=b();a(0,"p-button",11),_("onClick",function(){h(n);let r=p();return v(r.refreshCategories())}),o(),a(1,"p-button",12),_("onClick",function(){h(n);let r=p();return v(r.openCategoryDialog("add"))}),o()}if(t&2){let n=p();d("loading",n.categoriesLoading())}}function _f(t,e){if(t&1){let n=b();a(0,"p-button",13),_("onClick",function(){h(n);let r=p();return v(r.openCategoryDialog("edit"))}),o(),a(1,"p-button",14),_("onClick",function(){h(n);let r=p();return v(r.deleteSelectedCategory())}),o()}if(t&2){let n=p();d("disabled",!n.selectedCategory()),f(),d("disabled",!n.selectedCategory())}}function hf(t,e){t&1&&(a(0,"tr")(1,"th",15),c(2,"Sort"),o(),a(3,"th",16),c(4,"Name"),o(),a(5,"th",17),c(6,"Group"),o(),a(7,"th",18),c(8,"Visible?"),o()())}function vf(t,e){if(t&1&&(a(0,"tr",19)(1,"td"),g(2,"span",20),o(),a(3,"td"),c(4),o(),a(5,"td"),c(6),o(),a(7,"td"),g(8,"i",21),o()()),t&2){let n=e.$implicit,i=e.rowIndex;d("pReorderableRow",i)("pSelectableRow",n),f(4),x(n.category_name),f(2),x(n.group_name||"---"),f(2),d("ngClass",Un(5,df,n.show_on_sell,!n.show_on_sell))}}function gf(t,e){t&1&&(a(0,"tr")(1,"td",22),c(2,"No Categories yet!"),o()())}function yf(t,e){if(t&1){let n=b();a(0,"form",23),_("ngSubmit",function(){h(n);let r=p();return v(r.submitCategory())}),a(1,"div",24)(2,"div",25)(3,"label",26),c(4,"Category Name"),o(),g(5,"input",27),o(),a(6,"div",25)(7,"label",26),c(8,"Select Group"),o(),g(9,"p-dropdown",28),o(),a(10,"div",29),g(11,"p-inputSwitch",30),a(12,"label",31),c(13,"Show on sell page?"),o()()()()}if(t&2){let n=p();d("formGroup",n.categoryForm),f(5),d("ngClass",N(6,pf,(n.category_name==null?null:n.category_name.invalid)&&((n.category_name==null?null:n.category_name.dirty)||(n.category_name==null?null:n.category_name.touched)))),f(4),d("autoOptionFocus",!1)("showClear",!0)("options",n.groups())("filter",!0)}}function bf(t,e){if(t&1){let n=b();a(0,"p-button",32),_("onClick",function(){h(n);let r=p();return v(r.categoryDialogVisible.set(!1))}),o(),a(1,"p-button",33),_("onClick",function(){h(n);let r=p();return v(r.submitCategory())}),o()}}var eo=(()=>{class t{constructor(){this.stockService=S(K),this.confirmationService=S(We),this.notificationService=S(Qe),this.categoryDialogVisible=this.stockService.categoryDialogVisible,this.groups=this.stockService.groups,this.groupsLoading=this.stockService.groupsLoading,this.categories=this.stockService.categories,this.categoriesLoading=this.stockService.categoriesLoading,this.selectedCategory=this.stockService.selectedCategory,this.categoryForm=new Kn({category_id:new ke,group_id_fk:new ke,category_name:new ke(null,O.required),show_on_sell:new ke(!1)})}sortCategories(){this.stockService.sortCategories()}selectCategory(){}refreshCategories(){this.stockService.getCategories()}get category_name(){return this.categoryForm.get("category_name")}openCategoryDialog(n){this.dialogMode=n,this.dialogMode=="add"?this.stockService.categoryDialogVisible.set(!0):(this.categoryForm.patchValue({category_id:this.selectedCategory()?.category_id,category_name:this.selectedCategory()?.category_name,show_on_sell:this.selectedCategory()?.show_on_sell==1}),this.stockService.categoryDialogVisible.set(!0))}submitCategory(){this.dialogMode=="add"?this.categoryForm.valid&&(this.stockService.createCategory(this.categoryForm.value),this.stockService.categoryDialogVisible.set(!1)):this.dialogMode=="edit"&&this.categoryForm.valid&&(this.stockService.updateCategory(this.categoryForm.value),this.stockService.selectedCategory.set(null))}deleteSelectedCategory(){this.stockService.filteredItems().length!=0?this.notificationService.showError("Delete all category items before proceeding!","categories"):this.confirmationService.confirm({key:"home",message:`Are you sure that you want to delete "${this.selectedCategory()?.category_name}"?`,header:"Warning",icon:"pi pi-exclamation-triangle",acceptButtonStyleClass:"p-button-danger",rejectButtonStyleClass:"p-button-secondary",defaultFocus:"reject",accept:()=>{this.stockService.deleteCategory(this.selectedCategory().category_id)}})}resetDialog(){this.categoryForm.reset({category_name:null,show_on_sell:!1})}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275cmp=C({type:t,selectors:[["categories"]],decls:11,vars:17,consts:[["header","Categories"],["styleClass","mb-4 p-2"],["pTemplate","left"],["pTemplate","right"],["selectionMode","single","dataKey","category_id","styleClass","p-datatable-sm","currentPageReportTemplate","Showing {first} to {last} of {totalRecords} records","scrollHeight","55vh",3,"selectionChange","onRowReorder","value","selection","loading","paginator","rows","showCurrentPageReport","rowsPerPageOptions","alwaysShowPaginator","scrollable"],["pTemplate","header"],["pTemplate","body"],["pTemplate","emptymessage"],["header","Category","styleClass","p-fluid",3,"onHide","visible","modal","breakpoints"],["pTemplate","content"],["pTemplate","footer"],["label","Refresh","icon","pi pi-refresh","size","small","styleClass","mr-2 ",3,"onClick","loading"],["label","New Category","icon","pi pi-plus","severity","success","size","small",3,"onClick"],["label","Edit","icon","pi pi-file-edit","severity","warning","size","small",1,"mr-2",3,"onClick","disabled"],["label","Delete","icon","pi pi-trash","size","small","severity","danger",3,"onClick","disabled"],["width","10%"],["width","50%"],["width","25%"],["width","15%"],[3,"pReorderableRow","pSelectableRow"],["pReorderableRowHandle","",1,"pi","pi-bars"],[1,"pi",3,"ngClass"],["colspan","3"],[3,"ngSubmit","formGroup"],[1,"grid"],[1,"field","col-6"],["for","name"],["type","text","pInputText","","formControlName","category_name","spellcheck","false",1,"p-inputtext-sm",3,"ngClass"],["styleClass","p-inputtext-sm","scrollHeight","400px","appendTo","body","formControlName","group_id_fk","optionLabel","group_name","optionValue","group_id","placeholder","Select Group ...","filterBy","group_name",3,"autoOptionFocus","showClear","options","filter"],[1,"col-12","flex","align-items-center","justify-content-center","gap-2"],["id","showOnSell","formControlName","show_on_sell"],["for","showOnSell"],["label","Cancel","icon","pi pi-times","severity","secondary","size","small",3,"onClick"],["label","Save","icon","pi pi-check","severity","success","size","small",3,"onClick"]],template:function(i,r){i&1&&(a(0,"p-panel",0)(1,"p-toolbar",1),y(2,mf,2,1,"ng-template",2)(3,_f,2,2,"ng-template",3),o(),a(4,"p-table",4),P("selectionChange",function(u){return R(r.selectedCategory,u)||(r.selectedCategory=u),u}),_("onRowReorder",function(){return r.sortCategories()}),y(5,hf,9,0,"ng-template",5)(6,vf,9,8,"ng-template",6)(7,gf,3,0,"ng-template",7),o()(),a(8,"p-dialog",8),_("onHide",function(){return r.resetDialog()}),y(9,yf,14,8,"ng-template",9)(10,bf,2,0,"ng-template",10),o()),i&2&&(f(4),d("value",r.categories()),I("selection",r.selectedCategory),d("loading",r.categoriesLoading())("paginator",!0)("rows",10)("showCurrentPageReport",!0)("rowsPerPageOptions",w(14,cf))("alwaysShowPaginator",!0)("scrollable",!0),f(4),B(w(15,sf)),d("visible",r.categoryDialogVisible())("modal",!0)("breakpoints",w(16,ff)))},dependencies:[ze,W,ue,X,$,Q,Y,me,F,_e,oi,ai,he,L,q,tt,fe,ei,ut]})}}return t})();var Ef=()=>({width:"35vw"}),wf=()=>({"1199px":"85vw","575px":"95vw"});function xf(t,e){if(t&1){let n=b();a(0,"form",7),_("ngSubmit",function(){h(n);let r=p();return v(r.submit())}),a(1,"div",8)(2,"label",9),c(3,"Exchange Rate"),o(),g(4,"p-inputNumber",10),o()()}if(t&2){let n=p();d("formGroup",n.rateForm),f(4),d("min",1e3)}}function Cf(t,e){if(t&1){let n=b();a(0,"button",11),_("click",function(){h(n);let r=p();return v(r.toggleDialog(!1))}),o(),a(1,"button",12),_("click",function(){h(n);let r=p();return v(r.submit())}),o()}}var to=(()=>{class t{constructor(){this.stockService=S(K),this.formBuilder=S(ce),this.exchangeRate=this.stockService.exchangeRate,this.rateDialogVisible=this.stockService.rateDialogVisible,this.dialogVisible=!1,$n(()=>{this.rateForm=this.formBuilder.group({rate_value:[this.exchangeRate().rate_value]})})}toggleDialog(n){this.stockService.rateDialogVisible.set(n)}submit(){this.rateForm.valid&&this.stockService.updateExchangeRate(this.rateForm.value)}resetDialog(){this.rateForm.reset({rate_value:this.exchangeRate().rate_value}),this.stockService.rateDialogVisible.set(!1)}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275cmp=C({type:t,selectors:[["exchange-rate"]],decls:12,vars:10,consts:[[1,"p-toolbar-group-start"],[1,"text-green-600"],[1,"p-toolbar-group-end"],["icon","pi pi-file-edit","styleClass","p-button-warning","label","Edit",3,"onClick"],["header","Exchange Rate","styleClass","p-fluid",3,"visibleChange","onHide","visible","modal","breakpoints"],["pTemplate","content"],["pTemplate","footer"],[3,"ngSubmit","formGroup"],[1,"field","mt-1"],["for","name"],["inputId","integeronly","formControlName","rate_value",3,"min"],["pButton","","pRipple","","label","Cancel","icon","pi pi-times",1,"p-button-secondary",3,"click"],["pButton","","pRipple","","label","Save","icon","pi pi-check",1,"p-button-success",3,"click"]],template:function(i,r){i&1&&(a(0,"p-toolbar")(1,"div",0)(2,"h3"),c(3," Dollar Exchange: "),a(4,"i",1),c(5),re(6,"lira"),o()()(),a(7,"div",2)(8,"p-button",3),_("onClick",function(){return r.toggleDialog(!0)}),o()()(),a(9,"p-dialog",4),P("visibleChange",function(u){return R(r.rateDialogVisible,u)||(r.rateDialogVisible=u),u}),_("onHide",function(){return r.resetDialog()}),y(10,xf,5,2,"ng-template",5)(11,Cf,2,0,"ng-template",6),o()),i&2&&(f(5),x(oe(6,6,r.exchangeRate().rate_value)),f(4),B(w(8,Ef)),I("visible",r.rateDialogVisible),d("modal",!0)("breakpoints",w(9,wf)))},dependencies:[W,X,$,Q,Y,F,he,Ze,L,q,pe,pi]})}}return t})();var no=(()=>{class t{static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275cmp=C({type:t,selectors:[["stock-settings"]],decls:6,vars:0,consts:[[1,"grid","m-1"],[1,"col-12","md:col-6"]],template:function(i,r){i&1&&(a(0,"div",0)(1,"div",1),g(2,"exchange-rate")(3,"br")(4,"categories"),o(),g(5,"div",1),o())},dependencies:[eo,to]})}}return t})();var kf=[{path:"",component:Zr,children:[{path:"items",data:{breadcrumb:"Inventory"},component:Jr},{path:"settings",data:{breadcrumb:"Settings"},component:no},{path:"**",redirectTo:"/stock/items"}]}],io=(()=>{class t{static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275mod=je({type:t})}static{this.\u0275inj=qe({imports:[Rt.forChild(kf),Rt]})}}return t})();var Y1=(()=>{class t{static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275mod=je({type:t})}static{this.\u0275inj=qe({imports:[$e,Zn,Ye,io,rt,li,se,de,nt,et,it,Je,si,ci,ti,ct,vi,yi,pt,ot,at,kt]})}}return t})();export{Y1 as StockModule};
